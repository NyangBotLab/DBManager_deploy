'use strict';var K=M;function M(F,d){var E=w();return M=function(a,c){a=a-0x64;var q=E[a];return q;},M(F,d);}function w(){var P=['RpegY','OpenUser','Chat','8097822layqVN','1521952vKeGxq','bvUlj','ext','hgWuJ','client_message_id','moveToLast','getString','HandOverFeed','ZyPLM','getColumnNames','SELECT\x20*\x20FROM\x20chat_logs\x20WHERE\x20id\x20=\x20?','JvFci','concat','rawQuery','HsaMJ','hXnwn','status_action_token','cursorToUserLog','hidden','new_badge_seen_at','Wkvfz','SELECT\x20*\x20FROM\x20DB2.friends\x20WHERE\x20id\x20=\x20?','favorite','deleted_at','new_badge_updated_at','PromoteFeed','20305160XOwdYj','countryIso','getAlreadyInstance','FeedChat','thChE','FSCUK','enc','아직\x20없음','contact_id','vKUoC','cursorToChatLog','EfLYC','DemoteFeed','_id','AyOAk','_instance','nZCfN','defineProperty','moveToFirst','12DQNScN','MbUkN','type','user_id','SELECT\x20*\x20FROM\x20chat_logs\x20WHERE\x20_id\x20>\x20?\x20AND\x20_id\x20<=\x20?\x20ORDER\x20BY\x20_id','length','ChatManager','story_user_id','attachment','getChatStack','icavh','original_profile_image_url','ZtAaz','izoig','push','moveToNext','full_profile_image_url','OREUG','vPjjq','kckyR','1527235ahSZQY','uofAz','ViGFd','userKey','asuel','InviteFeed','QUUjn','prev_id','referer','DDUOk','qtaKO','ewPJw','NormalChat','jzAYS','User','iapBs','ReplyChat','OpAtH','BSunJ','MultiPhotoChat','vGhKY','TIGHy','kLykO','chat_id','message','user','NvaBA','WLYdb','dAerQ','status_message','OpenChatJoinedFeed','vaGbi','decrypt','UNKvj','OpenChatKickedFeed','close','WVNbj','LeaveFeed','forEach','ZLTDR','./ChatClass','khdZh','supplement','getMultipleUsersByIDs','3|0|4|2|1','BigJSON','TGWbX','../../UserManger','1346380fDoSjZ','rBvXQ','board_v','kZdpi','4366103JmPfDu','EmoticonChat','getOneUserByID','phonetic_name','prototype','member_type','getInstance','raw','JIwJs','oAEgO','from','SELECT\x20*\x20FROM\x20chat_logs','parse','poZVA','1|0|4|2|3','yKyVr','../../DBManager/src/decrypt','DeleteFeed','purged','mnvFp','DVHga','aTJat','741033yHwkfX','CtdEA','split','YUeXj','suspended','dxoBF','BrYpx','map','position','bYdwi','XfDVX','feedType','SELECT\x20*\x20FROM\x20chat_logs\x20WHERE\x20prev_id\x20=\x20?','QKzez'];w=function(){return P;};return w();}(function(F,d){var R=M,E=F();while(!![]){try{var a=parseInt(R(0x6e))/0x1+-parseInt(R(0x9a))/0x2+parseInt(R(0x88))/0x3*(-parseInt(R(0xc7))/0x4)+parseInt(R(0xdb))/0x5+-parseInt(R(0x99))/0x6+-parseInt(R(0x72))/0x7+parseInt(R(0xb4))/0x8;if(a===d)break;else E['push'](E['shift']());}catch(c){E['push'](E['shift']());}}}(w,0xae765));Object[K(0xc5)](exports,'__esModule',{'value':!0x0}),exports[K(0xcd)]=void 0x0;var CursorManager,ChatClass_1=require(K(0x66)),decrypt_1=require(K(0x82)),BigJSON_1=require('../../../BigJSON'),UserManger_1=require(K(0x6d)),parse=BigJSON_1[K(0x6b)][K(0x7e)],groupBy=function(F,d){return F['reduce'](function(E,c){return E[c[d]]=c,E;},{});},ChatManager=(function(){var g=K,F={'TIGHy':function(E,a){return E===a;},'MGdzJ':g(0xbb),'DgNMw':g(0xa4),'cwUeZ':g(0x6a),'OGbMy':function(E,a){return E||a;},'ewPJw':function(E,a){return E(a);},'cFHMx':g(0xcb),'MbUkN':function(E,a){return E<a;},'EfLYC':'1|3|4|2|0','yKyVr':g(0x7d),'ZyPLM':function(E,a,c){return E(a,c);}};function d(E,a){var y=g;void 0x0===a&&(a=''),this['db']=E,this[y(0xde)]=a;}return d[g(0x78)]=function(E,c){var u=g;return F[u(0xf0)](null,d[u(0xc3)])&&(d[u(0xc3)]=new d(E,c)),d['_instance'];},d[g(0xb6)]=function(){var m=g;if(F[m(0xf0)](null,d[m(0xc3)]))throw new Error(F['MGdzJ']);return d[m(0xc3)];},d[g(0x76)]['getChatByLogID']=function(E,c){var b=g;void 0x0===c&&(c=!0x0);var q=this['db'][b(0xa7)](F['DgNMw'],[E]);if(!q['moveToFirst']())return null;var Y=CursorManager[b(0xbe)](q,this[b(0xde)]);return q[b(0xfe)](),c&&(Y[b(0xf4)]=this[b(0x74)](Y[b(0x79)]['user_id'])),Y;},d[g(0x76)]['getUnderChat']=function(E,c){var T=g,q=F['cwUeZ'][T(0x8a)]('|'),Y=0x0;while(!![]){switch(q[Y++]){case'0':var H=this['db'][T(0xa7)](T(0x94),[E]);continue;case'1':return H[T(0xfe)](),c&&(o[T(0xf4)]=this['getOneUserByID'](o[T(0x79)]['user_id'])),o;case'2':var o=CursorManager[T(0xbe)](H,this[T(0xde)]);continue;case'3':F[T(0xf0)](void 0x0,c)&&(c=!0x0);continue;case'4':if(!H[T(0xc6)]())return null;continue;}break;}},d[g(0x76)][g(0xd0)]=function(E,q){var p=g;F[p(0xf0)](void 0x0,E)&&(E=void 0x0),F[p(0xf0)](void 0x0,q)&&(q=void 0x0),E=F['OGbMy'](E,'0'),q=q||F[p(0xe6)](String,Number['MAX_SAFE_INTEGER']);var Y=this['db'][p(0xa7)](F['cFHMx'],[E,q]),H=[];if(!Y['moveToFirst']())return H;do{var C=CursorManager[p(0xbe)](Y,this[p(0xde)]);H[p(0xd5)](C);}while(Y[p(0xd6)]());Y[p(0xfe)]();var J=new Set(H[p(0x8f)](function(h){var N=p;return h[N(0x79)][N(0xca)];})),W=this['getMultipleUsersByIDs'](Array[p(0x7c)](J),!0x0);if(!Array['isArray'](W))for(var O=0x0,v=H;F[p(0xc8)](O,v[p(0xcc)]);O++){var f=v[O];f[p(0xf4)]=W[f[p(0x79)][p(0xca)]];}return H;},d[g(0x76)]['getLastChat']=function(E){var L=g,c=F[L(0xbf)][L(0x8a)]('|'),q=0x0;while(!![]){switch(c[q++]){case'0':return H['close'](),E&&(Y['user']=this[L(0x74)](Y['raw'][L(0xca)])),Y;case'1':F[L(0xf0)](void 0x0,E)&&(E=!0x0);continue;case'2':var Y=CursorManager[L(0xbe)](H,this['userKey']);continue;case'3':var H=this['db'][L(0xa7)](F[L(0x81)],[]);continue;case'4':if(!H['moveToLast']())return null;continue;}break;}},d[g(0x76)]['getOneUserByID']=function(E){var s=g,c=this['db'][s(0xa7)](s(0xaf),[E]);if(!c[s(0x9f)]())return null;var q=CursorManager[s(0xab)](c,this['userKey']);return c[s(0xfe)](),q;},d[g(0x76)][g(0x69)]=function(E,c){var V=g,q=V(0x80)[V(0x8a)]('|'),Y=0x0;while(!![]){switch(q[Y++]){case'0':var H='?,'['repeat'](E[V(0xcc)])['slice'](0x0,-0x1),C='SELECT\x20*\x20FROM\x20DB2.friends\x20WHERE\x20id\x20IN\x20('[V(0xa6)](H,')'),J=this['db'][V(0xa7)](C,E),W=[];continue;case'1':void 0x0===c&&(c=!0x1);continue;case'2':do{var O=CursorManager[V(0xab)](J,this['userKey']);W[V(0xd5)](O);}while(J[V(0xd6)]());continue;case'3':return J[V(0xfe)](),c?F[V(0xa2)](groupBy,W,'id'):W;case'4':if(!J[V(0xc6)]())return W;continue;}break;}},d[g(0xc3)]=null,d;}());exports['ChatManager']=ChatManager,function(F){var S=K,d={'hgWuJ':function(a,c){return a==c;},'JvFci':function(a,c){return a===c;},'ZLTDR':S(0xc1),'bvUlj':S(0xbc),'NvaBA':S(0xf2),'icavh':'created_at','iapBs':S(0xce),'ViGFd':'account_id','vPjjq':S(0xaa),'thChE':function(a,c){return a(c);},'rzSFX':S(0xc9),'aTJat':S(0x90),'DVHga':'user_type','ZtAaz':S(0x77),'FjWYU':'brand_new','TMVBn':'blocked','UNKvj':S(0xb0),'eXiup':S(0x84),'rBvXQ':S(0x8c),'dNPKk':'involved_chat_ids','fLlrY':function(a,c){return a!==c;},'asuel':'name','dAerQ':S(0x75),'FSCUK':S(0xd7),'BSunJ':S(0xd2),'kckyR':S(0xf8),'OpAtH':S(0x70),'itDme':S(0x9c),'kLykO':function(a,c){return a!==c;},'JIwJs':S(0xca),'CtdEA':S(0xb1),'izoig':function(a,c){return a==c;},'SJGev':function(a,c){return a===c;},'khdZh':function(a,c){return a!==c;},'OREUG':function(a,c){return a===c;},'dxoBF':function(a,c){return a===c;}};function E(a){var Z=S;return d[Z(0x9d)](null,a)||d['JvFci']('',a);}F[S(0xab)]=function(c,q){var l=S,Y={'Wkvfz':d['ZLTDR'],'poZVA':d[l(0x9b)],'YXyNN':d[l(0xf5)],'AyOAk':d[l(0xd1)],'eEQuM':d[l(0xea)],'uofAz':d[l(0xdd)],'BrYpx':l(0xb2),'HsaMJ':d[l(0xd9)],'mnvFp':function(J,n){var D=l;return d[D(0xb8)](J,n);},'RpegY':d['rzSFX'],'oAEgO':d[l(0x87)],'hXnwn':d[l(0x86)],'bYdwi':d[l(0xd3)],'DDUOk':function(J,n){return J(n);},'lwhWU':d['FjWYU'],'QKzez':d['TMVBn'],'XfDVX':d[l(0xfc)],'WVNbj':d['eXiup'],'vGhKY':d[l(0x6f)],'TGWbX':function(J,n){var A=l;return d[A(0xb8)](J,n);},'kZdpi':d['dNPKk']},H,o={};c[l(0xa3)]()[l(0x64)](function(J,n){var i=l;J=String(J);var W=c[i(0xa0)](n);switch(J){case Y[i(0xae)]:case Y[i(0x7f)]:case'id':case Y['YXyNN']:case Y[i(0xc2)]:case Y['eEQuM']:case Y[i(0xdc)]:case Y[i(0x8e)]:case i(0xad):case Y[i(0xa8)]:default:o[J]=W&&Y[i(0x85)](String,W);break;case Y[i(0x96)]:case i(0xba):case Y[i(0x7b)]:case Y[i(0xa9)]:case Y[i(0x91)]:o[J]=Y[i(0xe4)](Number,W);break;case Y['lwhWU']:case Y[i(0x95)]:case Y[i(0x92)]:case i(0xac):case Y[i(0xff)]:case Y[i(0xef)]:o[J]=Y[i(0x85)](Boolean,Y[i(0x6c)](Number,W));break;case Y[i(0x71)]:o[J]=Y[i(0x85)](parse,Y[i(0x85)](String,W));}});var C=d['fLlrY'](null,H=o[l(0xba)])&&void 0x0!==H?H:0x1e;return[d[l(0xdf)],d[l(0xf7)],'profile_image_url',d[l(0xb9)],d[l(0xed)],d[l(0xda)]][l(0x64)](function(J){o[J]=(0x0,decrypt_1['decrypt'])(q,C,o[J]);}),['v',d[l(0xec)],d['itDme']][l(0x64)](function(J){var I=l,n=(0x0,decrypt_1[I(0xfb)])(q,C,o[J]);o[J]=n&&parse(String(n));}),d[l(0xf1)](void 0x0,o['v'][l(0xb5)])?new UserManger_1[(l(0xe9))](o):new UserManger_1[(l(0x97))](o);},F[S(0xbe)]=function(q,Y){var j=S,H={'QUUjn':d[j(0x65)],'vaGbi':d[j(0xf5)],'nZCfN':d[j(0x7a)],'jzAYS':d[j(0xd1)],'vKUoC':d[j(0x89)],'YUeXj':j(0x9e),'WLYdb':j(0xe2),'TcNPC':function(G,U){return G(U);},'qtaKO':j(0xc9)},C,J,W={'_id':'','attachment':null,'chat_id':'','client_message_id':'','created_at':'','deleted_at':'','id':'','message':'','prev_id':'','referer':0x0,'supplement':null,'type':0x0,'user_id':'','v':null};q['getColumnNames']()['forEach'](function(G,U){var Q=j;G=String(G);var x=q[Q(0xa0)](U);switch(G){case H[Q(0xe1)]:case'id':case H[Q(0xfa)]:case H[Q(0xc4)]:case H[Q(0xe8)]:case H[Q(0xbd)]:case H[Q(0x8b)]:case H[Q(0xf6)]:W[G]=H['TcNPC'](String,x);break;case H[Q(0xe5)]:case Q(0xe3):W[G]=Number(x);break;case'v':W[G]=parse(H['TcNPC'](String,x));break;default:W[G]=x&&String(x);}});var O=W[j(0xca)],v=d[j(0xf1)](null,J=d[j(0xa5)](null,C=d[j(0xd4)](null,W)?void 0x0:W['v'])||d['SJGev'](void 0x0,C)?void 0x0:C[j(0xba)])&&d[j(0x67)](void 0x0,J)?J:0x1e,f=(0x0,decrypt_1[j(0xfb)])(O,v,W[j(0xcf)]),h=(0x0,decrypt_1['decrypt'])(O,v,W[j(0x68)]),k=(0x0,decrypt_1[j(0xfb)])(O,v,W[j(0xf3)]);switch(W[j(0xcf)]=E(f)?f:d['thChE'](parse,f),W[j(0x68)]=d[j(0xb8)](E,h)?h:d[j(0xb8)](parse,h),W[j(0xf3)]=k,W[j(0xc9)]){case 0x0:return W['message']=parse(W[j(0xf3)]),d['SJGev'](0x1,W[j(0xf3)][j(0x93)])?new ChatClass_1[(j(0xe0))](W):0x2===W[j(0xf3)]['feedType']?new ChatClass_1[(j(0x100))](W):d['OREUG'](0x4,W['message']['feedType'])?new ChatClass_1[(j(0xf9))](W):d[j(0xd8)](0x6,W[j(0xf3)]['feedType'])?new ChatClass_1[(j(0xfd))](W):0xb===W[j(0xf3)][j(0x93)]?new ChatClass_1[(j(0xb3))](W):d['dxoBF'](0xc,W['message'][j(0x93)])?new ChatClass_1[(j(0xc0))](W):0xe===W[j(0xf3)][j(0x93)]?new ChatClass_1[(j(0x83))](W):d[j(0x8d)](0xf,W[j(0xf3)][j(0x93)])?new ChatClass_1[(j(0xa1))](W):new ChatClass_1[(j(0xb7))](W);case 0x1:return new ChatClass_1[(j(0xe7))](W);case 0x2:return new ChatClass_1['PhotoChat'](W);case 0x6:return new ChatClass_1['OldEmoticonChat'](W);case 0xc:case 0x14:return new ChatClass_1[(j(0x73))](W);case 0x1a:return new ChatClass_1[(j(0xeb))](W);case 0x1b:return new ChatClass_1[(j(0xee))](W);default:return new ChatClass_1[(j(0x98))](W);}};}(CursorManager||(CursorManager={}));