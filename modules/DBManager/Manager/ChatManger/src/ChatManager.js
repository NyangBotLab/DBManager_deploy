'use strict';function b(){var b3=['watermarks','status_message','vUDMc','close','schat_token','cUzyL','UkuXe','favorite','KkLQd','SELECT\x20*\x20FROM\x20chat_logs\x20WHERE\x20id\x20=\x20?','getOneUserByID','AIODz','vSUlj','zntkL','QvjGr','XJlbK','last_updated_at','Room','Yxfxp','FeedChat','CTYhS','WhSWO','getMultipleUsersByIDs','Dgnku','RXMlQ','HandOverFeed','xRtlc','PGyCy','6EcwAdP','JtAKK','nshkJ','zClZg','myhuz','getOneRoomByID','INIzu','moveToNext','ReplyChat','new_badge_updated_at','user','getString','userRefreshCursor','wvJFq','kVEQi','type','SELECT\x20active_member_ids\x20FROM\x20chat_rooms\x20WHERE\x20id\x20=\x20?','VideoChat','temporary_message','ueoiu','JuOlL','GBuMO','deZEm','moveToLast','EmoticonChat','oKAUR','reduce','enc','created_at','_id','xqQlX','PromoteFeed','last_message','unread_count','PhotoChat','_instance','GCfDf','hidden','concat','User','getMembersByRoomID','forEach','OpenUser','cursorToRoomLog','2788mxjhtI','profile_image_url','__esModule','client_message_id','cursorToUserLog','blocked','2044971BOOeEn','member_type','4119420BwdGcZ','TKkrQ','push','MultiPhotoChat','decrypt','OyGjP','OpenChatKickedFeed','RxeXS','feedType','PzNRI','YMhJb','parse','EcGwx','아직\x20없음','mGLUI','cursorToChatLog','SlmyE','MKNed','getInstance','last_log_id','YuOEf','jNNTd','MapChat','VDBqm','Ecxyq','full_profile_image_url','map','BigJSON','NormalChat','leLfk','getChatByLogID','cursorToOnlyID','userKey','865cefYjH','XjTWG','1446417wDeuvU','defineProperty','TJKPn','raw','XpNKx','jdRWa','teFFZ','ghmrK','position','346536ULfAsz','name','OldEmoticonChat','AudioChat','PAZyJ','KsqeG','brand_new','SELECT\x20*\x20FROM\x20chat_logs\x20WHERE\x20prev_id\x20=\x20?','iCNMm','9475270dUXyvV','rinPe','../../UserManger','bBctN','zpMHH','Chat','RRDRB','ffeua','story_user_id','attachment','mbJno','jIiuQ','invite_info','UlrtJ','FUtwi','VBckH','purged','user_id','paDwc','3|1|0|6|7|2|4|5','message','rawQuery','ext','BtDTL','active_members_count','fbLNk','length','rvjyN','2|0|4|3|1','ChatManager','8gJHBMw','last_joined_log_id','private_meta','DqPMH','OpenRoom','EoiEi','last_chat_log_type','new_badge_seen_at','DemoteFeed','link_id','board_v','prototype','getAlreadyInstance','edPBm','countryIso','UuvwI','_runQuery','fzIqL','./ChatClass','account_id','status_action_token','BveVm','getUnderChat','getColumnNames','split','deleted_at','nmMiU','SELECT\x20*\x20FROM\x20chat_rooms\x20WHERE\x20id\x20=\x20?','SELECT\x20*\x20FROM\x20chat_logs','0|3|2|4|1','2746rESUwN','contact_id','supplement','meta','2015kOCwwv','slice','last_update_seen_id','user_type','vHvnb','original_profile_image_url','RVIYI','KfFTT','XjSQR','yhRXC','repeat','DeleteFeed','ePPlQ','isArray','referer','moveToFirst','getChatStack','22CgaMgw','phonetic_name','LeaveFeed','aLfKc','prev_id','SELECT\x20*\x20FROM\x20DB2.friends\x20WHERE\x20id\x20=\x20?','uUuQg','VXTEY','active_member_ids','members','mute_until_at','OzSAI','GpWpw'];b=function(){return b3;};return b();}var W=C;(function(v,G){var B=C,j=v();while(!![]){try{var T=parseInt(B(0x13e))/0x1*(parseInt(B(0xab))/0x2)+-parseInt(B(0x11b))/0x3+parseInt(B(0x115))/0x4*(-parseInt(B(0xaf))/0x5)+parseInt(B(0xe9))/0x6*(parseInt(B(0x140))/0x7)+parseInt(B(0x8d))/0x8*(parseInt(B(0x149))/0x9)+parseInt(B(0x6f))/0xa+parseInt(B(0xc0))/0xb*(-parseInt(B(0x11d))/0xc);if(T===G)break;else j['push'](j['shift']());}catch(Z){j['push'](j['shift']());}}}(b,0xb2835));function C(v,G){var j=b();return C=function(T,Z){T=T-0x6d;var t=j[T];return t;},C(v,G);}Object[W(0x141)](exports,W(0x117),{'value':!0x0}),exports[W(0x8c)]=void 0x0;var CursorManager,ChatClass_1=require(W(0x9f)),decrypt_1=require('../../DBManager/src/decrypt'),BigJSON_1=require('../../../BigJSON'),UserManger_1=require(W(0x71)),parse=BigJSON_1[W(0x138)][W(0x128)],RoomManger_1=require('../../RoomManger'),groupBy=function(v,G){var S=W;return v[S(0x103)](function(j,T){return j[T[G]]=T,j;},{});},ChatManager=(function(){var l=W,v={'YuOEf':function(j,T){return j===T;},'AIODz':function(j,T){return j===T;},'nmMiU':function(j,T){return j===T;},'HJSHk':function(j,T){return j===T;},'VXTEY':l(0x12a),'UuvwI':function(j,T){return j===T;},'RVIYI':function(j,T){return j===T;},'MzFbB':'0|2|1|3|4','rinPe':l(0xd6),'AzpyE':l(0xaa),'eTHLj':function(j,T){return j===T;},'fbLNk':l(0x6d),'Yxfxp':l(0x82),'HlVaa':'SELECT\x20*\x20FROM\x20chat_logs\x20WHERE\x20_id\x20>\x20?\x20AND\x20_id\x20<=\x20?\x20ORDER\x20BY\x20_id','wvJFq':function(j,T){return j===T;},'INIzu':function(j,T){return j===T;},'GCfDf':function(j,T){return j||T;},'BFZJB':function(j,T){return j(T);},'ePiDk':function(j,T){return j<T;},'jNNTd':l(0x8b),'YMhJb':l(0xa9),'vHvnb':function(j,T){return j===T;},'VBckH':function(j,T){return j===T;},'UlrtJ':function(j,T,Z){return j(T,Z);},'teFFZ':l(0xa8),'jWuoh':l(0xf9)};function G(j,T){var O=l;v[O(0x131)](void 0x0,T)&&(T=''),this['db']=j,this[O(0x13d)]=T;}return G[l(0x12f)]=function(j,T){var m=l;if(void 0x0===j&&(j=null),v[m(0xd8)](void 0x0,T)&&(T=''),v[m(0xa7)]('',T)||v['AIODz'](null,j)){if(v['HJSHk'](null,G[m(0x10c)]))throw new Error(v[m(0xc7)]);return G[m(0x10c)];}return v[m(0x9c)](null,G[m(0x10c)])&&(G[m(0x10c)]=new G(j,T)),G[m(0x10c)];},G[l(0x99)]=function(){var K=l;if(v[K(0xb5)](null,G['_instance']))throw new Error(v[K(0xc7)]);return G[K(0x10c)];},G[l(0x98)][l(0x13b)]=function(j,T){var H=l,Z=v['MzFbB']['split']('|'),s=0x0;while(!![]){switch(Z[s++]){case'0':v[H(0xb5)](void 0x0,T)&&(T=!0x0);continue;case'1':if(!f['moveToFirst']())return null;continue;case'2':var f=this['db']['rawQuery'](v[H(0x70)],[j]);continue;case'3':var I=CursorManager[H(0x12c)](f,this[H(0x13d)]);continue;case'4':return f[H(0xd0)](),T&&(I['user']=this[H(0xd7)](I[H(0x143)]['user_id'])),I;}break;}},G['prototype'][l(0xa3)]=function(j,T){var L=l,Z=v['AzpyE'][L(0xa5)]('|'),s=0x0;while(!![]){switch(Z[s++]){case'0':v['eTHLj'](void 0x0,T)&&(T=!0x0);continue;case'1':return f[L(0xd0)](),T&&(I['user']=this[L(0xd7)](I['raw'][L(0x80)])),I;case'2':if(!f[L(0xbe)]())return null;continue;case'3':var f=this['db'][L(0x84)](v[L(0x88)],[j]);continue;case'4':var I=CursorManager['cursorToChatLog'](f,this[L(0x13d)]);continue;}break;}},G['prototype'][l(0x9d)]=function(j,T){var w=l,Z=this['db']['rawQuery'](j,T);if(!Z['moveToFirst']())return null;var s=CursorManager[w(0x12c)](Z,this[w(0x13d)]);return Z[w(0xd0)](),s;},G[l(0x98)][l(0xbf)]=function(j,T){var E=l,Z=v[E(0xdf)]['split']('|'),f=0x0;while(!![]){switch(Z[f++]){case'0':if(!I[E(0xbe)]())return Q;continue;case'1':var I=this['db'][E(0x84)](v['HlVaa'],[j,T]),Q=[];continue;case'2':var q=new Set(Q[E(0x137)](function(P){var o=E;return P[o(0x143)][o(0x80)];})),X=this[E(0xe3)](Array['from'](q),!0x0);continue;case'3':v[E(0xf6)](void 0x0,j)&&(j=void 0x0),v[E(0xef)](void 0x0,T)&&(T=void 0x0),j=v[E(0x10d)](j,'0'),T=T||v['BFZJB'](String,Number['MAX_SAFE_INTEGER']);continue;case'4':if(!Array[E(0xbc)](X))for(var y=0x0,D=Q;v['ePiDk'](y,D['length']);y++){var R=D[y];R[E(0xf3)]=X[R[E(0x143)][E(0x80)]];}continue;case'5':return Q;case'6':do{var N=CursorManager[E(0x12c)](I,this[E(0x13d)]);Q['push'](N);}while(I[E(0xf0)]());continue;case'7':I[E(0xd0)]();continue;}break;}},G['prototype']['getLastChat']=function(j){var i=l,T=v[i(0x132)][i(0xa5)]('|'),Z=0x0;while(!![]){switch(T[Z++]){case'0':var t=this['db'][i(0x84)](v[i(0x127)],[]);continue;case'1':return t[i(0xd0)](),j&&(s[i(0xf3)]=this[i(0xd7)](s[i(0x143)]['user_id'])),s;case'2':v[i(0xb3)](void 0x0,j)&&(j=!0x0);continue;case'3':var s=CursorManager[i(0x12c)](t,this['userKey']);continue;case'4':if(!t[i(0x100)]())return null;continue;}break;}},G[l(0x98)][l(0xd7)]=function(j){var g=l,T=this['db']['rawQuery'](g(0xc5),[j]);if(!T[g(0x100)]())return null;var Z=CursorManager[g(0x119)](T,this['userKey']);return T[g(0xd0)](),Z;},G['prototype'][l(0xe3)]=function(j,T){var A=l;v[A(0x7e)](void 0x0,T)&&(T=!0x1);var Z='?,'[A(0xb9)](j[A(0x89)])[A(0xb0)](0x0,-0x1),f='SELECT\x20*\x20FROM\x20DB2.friends\x20WHERE\x20id\x20IN\x20('[A(0x10f)](Z,')'),I=this['db']['rawQuery'](f,j),Q=[];if(!I['moveToFirst']())return Q;do{var q=CursorManager['cursorToUserLog'](I,this[A(0x13d)]);Q[A(0x11f)](q);}while(I[A(0xf0)]());return I[A(0xd0)](),T?v[A(0x7c)](groupBy,Q,'id'):Q;},G[l(0x98)][l(0xee)]=function(j){var p=l,T=this['db']['rawQuery'](v[p(0x146)],[j]);if(!T[p(0x100)]())return null;var Z=CursorManager[p(0x114)](T,this['userKey']);return T[p(0xd0)](),Z;},G[l(0x98)][l(0x111)]=function(j){var u=l,T=this['db'][u(0x84)](v['jWuoh'],[j]);if(!T[u(0x100)]())return null;var Z=CursorManager[u(0xf5)](T);return T[u(0xd0)](),this[u(0xe3)](Z);},G[l(0x10c)]=null,G;}());exports[W(0x8c)]=ChatManager,function(v){var z=W,G={'GpWpw':function(T,Z){return T==Z;},'xjmIz':function(T,Z){return T===Z;},'Dgnku':function(T,Z){return T(Z);},'XjSQR':z(0x106),'XjTWG':z(0xac),'gannl':'chat_id','xRtlc':z(0x105),'DqPMH':z(0x77),'paDwc':z(0xa0),'TJKPn':z(0xf8),'EoiEi':z(0xb2),'PGyCy':z(0x14f),'JtAKK':z(0xd4),'drzfm':z(0x7f),'kVEQi':'suspended','OzSAI':function(T,Z){return T(Z);},'QvjGr':function(T,Z){return T!==Z;},'ffeua':z(0x14a),'xqQlX':z(0xc1),'KfFTT':z(0x116),'nshkJ':z(0x136),'qnCom':z(0xb4),'zpMHH':z(0xce),'oKAUR':z(0x97),'XpNKx':z(0x85),'PzNRI':z(0x80),'leLfk':z(0xa6),'iCNMm':function(T,Z){return T(Z);},'KsqeG':function(T,Z){return T!==Z;},'MGwLc':function(T,Z){return T(Z);},'iaAnQ':function(T,Z){return T&Z;},'XJlbK':function(T,Z){return T===Z;},'GBuMO':function(T,Z){return T===Z;},'RXMlQ':function(T,Z){return T===Z;},'ERWpE':function(T,Z){return T(Z);},'WDqxt':z(0x130),'bLXyl':'last_read_log_id','jIiuQ':z(0xb1),'yhRXC':z(0xdd),'vUDMc':z(0xd1),'RRDRB':'last_skey_token','YVyhc':z(0x96),'kwcFI':z(0xca),'mGLUI':z(0x10a),'spbUZ':z(0x87),'ePPlQ':z(0x93),'MKNed':function(T,Z){return T(Z);},'edPBm':'is_hint','cUzyL':z(0xfb),'jdRWa':z(0xad),'uUuQg':z(0xc9),'Ecxyq':z(0xc8),'WhSWO':z(0xae),'aGDmo':'moim_meta','aLfKc':'last_pk_tokens','EcGwx':z(0x7b),'fzIqL':function(T,Z){return T(Z);},'zntkL':'DirectChat'};function j(T){var d=z;return G[d(0xcc)](null,T)||G['xjmIz']('',T);}v[z(0x119)]=function(T,Z){var a=z,f={'ghmrK':function(q,X){return G['Dgnku'](q,X);},'rvjyN':G[a(0xb7)],'BveVm':G[a(0x13f)],'CTYhS':G['gannl'],'bBctN':G[a(0xe7)],'mbJno':G[a(0x90)],'BtDTL':G[a(0x81)],'PAZyJ':a(0xf2),'TKkrQ':G[a(0x142)],'JuOlL':G[a(0x92)],'RxeXS':a(0x11c),'deZEm':G[a(0xe8)],'SlmyE':G[a(0xea)],'VDBqm':G['drzfm'],'vSUlj':G[a(0xf7)],'KkLQd':function(q,X){var x=a;return G[x(0xe4)](q,X);},'OyGjP':function(q,X){return G['OzSAI'](q,X);},'pfJnF':function(q,X){var V=a;return G[V(0xe4)](q,X);}},I,Q={};T[a(0xa4)]()[a(0x112)](function(q,X){var F=a;q=f[F(0x147)](String,q);var y=T[F(0xf4)](X);switch(q){case f[F(0x8a)]:case f[F(0xa2)]:case'id':case f[F(0xe1)]:case f[F(0x72)]:case f[F(0x79)]:case f[F(0x86)]:case f[F(0x14d)]:case F(0x94):case F(0xa1):default:Q[q]=y&&String(y);break;case f[F(0x11e)]:case F(0x104):case F(0x148):case f[F(0xfd)]:case f[F(0x124)]:Q[q]=f[F(0x147)](Number,y);break;case f[F(0xff)]:case F(0x11a):case f[F(0x12d)]:case F(0x10e):case f[F(0x134)]:case f[F(0xd9)]:Q[q]=f[F(0xd5)](Boolean,f[F(0x122)](Number,y));break;case'involved_chat_ids':Q[q]=f['pfJnF'](parse,String(y));}});var n=G[a(0xdb)](null,I=Q[a(0x104)])&&G[a(0xdb)](void 0x0,I)?I:0x1e;return[G[a(0x76)],G[a(0x107)],G[a(0xb6)],G[a(0xeb)],G['qnCom'],G[a(0x73)]]['forEach'](function(q){var Y=a;Q[q]=(0x0,decrypt_1[Y(0x121)])(Z,n,Q[q]);}),['v',G[a(0x102)],G[a(0x144)]][a(0x112)](function(q){var h=a,X=(0x0,decrypt_1[h(0x121)])(Z,n,Q[q]);Q[q]=X&&G[h(0xe4)](parse,G[h(0xe4)](String,X));}),void 0x0!==Q['v'][a(0x9b)]?new UserManger_1[(a(0x110))](Q):new UserManger_1[(a(0x113))](Q);},v['cursorToChatLog']=function(T,Z){var k=z,f={'FUtwi':function(P,J){return P(J);},'myhuz':G[k(0xb7)],'zClZg':G[k(0x126)],'aaAfB':G[k(0xe7)],'ueoiu':G[k(0x13a)],'UkuXe':G[k(0x142)],'zyWex':function(P,J){var c=k;return G[c(0x6e)](P,J);}},I,Q,q={'_id':'','attachment':null,'chat_id':'','client_message_id':'','created_at':'','deleted_at':'','id':'','message':'','prev_id':'','referer':0x0,'supplement':null,'type':0x0,'user_id':'','v':null};T[k(0xa4)]()[k(0x112)](function(P,J){var U=k;P=f[U(0x7d)](String,P);var M=T[U(0xf4)](J);switch(P){case f[U(0xed)]:case'id':case'chat_id':case f[U(0xec)]:case f['aaAfB']:case f[U(0xfc)]:case U(0x118):case U(0xc4):q[P]=String(M);break;case f[U(0xd3)]:case U(0xbd):q[P]=Number(M);break;case'v':q[P]=f[U(0x7d)](parse,f[U(0x7d)](String,M));break;default:q[P]=M&&f['zyWex'](String,M);}});var X=q[k(0x80)],y=G[k(0x14e)](null,Q=G['xjmIz'](null,I=G[k(0xcc)](null,q)?void 0x0:q['v'])||void 0x0===I?void 0x0:I[k(0x104)])&&void 0x0!==Q?Q:0x1e,D=(0x0,decrypt_1[k(0x121)])(X,y,q['attachment']),R=(0x0,decrypt_1[k(0x121)])(X,y,q['supplement']),N=(0x0,decrypt_1[k(0x121)])(X,y,q[k(0x83)]);switch(q[k(0x78)]=j(D)?D:G[k(0xcb)](parse,D),q[k(0xad)]=G['MGwLc'](j,R)?R:parse(R),q['message']=N,G['iaAnQ'](0xffffbfff,q[k(0xf8)])){case 0x0:return q[k(0x83)]=parse(q[k(0x83)]),G[k(0xdc)](0x1,q[k(0x83)][k(0x125)])?new ChatClass_1['InviteFeed'](q):G['xjmIz'](0x2,q['message'][k(0x125)])?new ChatClass_1[(k(0xc2))](q):G[k(0xfe)](0x4,q[k(0x83)][k(0x125)])?new ChatClass_1['OpenChatJoinedFeed'](q):G[k(0xe5)](0x6,q[k(0x83)]['feedType'])?new ChatClass_1[(k(0x123))](q):0xb===q[k(0x83)][k(0x125)]?new ChatClass_1[(k(0x108))](q):G[k(0xfe)](0xc,q[k(0x83)][k(0x125)])?new ChatClass_1[(k(0x95))](q):G[k(0xe5)](0xe,q[k(0x83)][k(0x125)])?new ChatClass_1[(k(0xba))](q):0xf===q[k(0x83)][k(0x125)]?new ChatClass_1[(k(0xe6))](q):new ChatClass_1[(k(0xe0))](q);case 0x1:return new ChatClass_1[(k(0x139))](q);case 0x2:return new ChatClass_1[(k(0x10b))](q);case 0x3:return new ChatClass_1[(k(0xfa))](q);case 0x5:return new ChatClass_1[(k(0x14c))](q);case 0x6:return new ChatClass_1[(k(0x14b))](q);case 0xc:case 0x14:case 0x19:return new ChatClass_1[(k(0x101))](q);case 0x10:return new ChatClass_1[(k(0x133))](q);case 0x12:return new ChatClass_1['FileChat'](q);case 0x1a:return new ChatClass_1[(k(0xf1))](q);case 0x1b:return new ChatClass_1[(k(0x120))](q);default:return new ChatClass_1[(k(0x74))](q);}},v['userRefreshCursor']=function(T){return G['ERWpE'](parse,T['getString'](0x0));},v[z(0x114)]=function(T,Z){var b0=z,s={};T[b0(0xa4)]()[b0(0x112)](function(I,Q){var b1=b0;I=G[b1(0xe4)](String,I);var n=T[b1(0xf4)](Q);switch(I){case G[b1(0xb7)]:case'id':case G['WDqxt']:case G['bLXyl']:case G[b1(0x7a)]:case G[b1(0xb8)]:case G[b1(0xcf)]:case G[b1(0x75)]:case G['YVyhc']:case b1(0x8e):case G['kwcFI']:s[I]=n?String(n):null;break;case G[b1(0x12b)]:case G['spbUZ']:case G[b1(0xbb)]:s[I]=n?G[b1(0x12e)](Number,n):null;break;case G[b1(0x9a)]:s[I]=n?G['iCNMm'](Boolean,G[b1(0xcb)](Number,n)):null;break;case G[b1(0xd2)]:case'v':case G[b1(0x145)]:case b1(0x85):case G[b1(0xc6)]:case G[b1(0x135)]:case b1(0xcd):case G[b1(0xe2)]:case b1(0x8f):case G['aGDmo']:case G[b1(0xc3)]:case G[b1(0x129)]:case'blinded_member_ids':s[I]=n&&G['MKNed'](parse,G[b1(0x12e)](String,n));break;default:s[I]=n&&G[b1(0x9e)](String,n);}});var f=s['v']['enc'];return s[b0(0x109)]=(0x0,decrypt_1['decrypt'])(Z,f,s[b0(0x109)]),[G[b0(0xda)],'MultiChat']['includes'](s[b0(0xf8)])?new RoomManger_1[(b0(0xde))](s):new RoomManger_1[(b0(0x91))](s);},v[z(0x13c)]=function(T,Z){var b2=z;for(var s=T[b2(0xa4)](),f=0x0;f<s[b2(0x89)];f++)if(G['GBuMO'](G[b2(0x9e)](String,s[f]),Z))return T[b2(0xf4)](f);};}(CursorManager||(CursorManager={}));