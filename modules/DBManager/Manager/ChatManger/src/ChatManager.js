'use strict';function e(i,x){var Y=m();return e=function(Z,p){Z=Z-0x1a3;var w=Y[Z];return w;},e(i,x);}var N=e;(function(i,x){var J=e,Y=i();while(!![]){try{var Z=-parseInt(J(0x1cb))/0x1+parseInt(J(0x213))/0x2+parseInt(J(0x219))/0x3*(-parseInt(J(0x1d1))/0x4)+parseInt(J(0x1a9))/0x5*(-parseInt(J(0x1fd))/0x6)+-parseInt(J(0x1b5))/0x7+parseInt(J(0x1ae))/0x8+parseInt(J(0x1c8))/0x9*(parseInt(J(0x1e0))/0xa);if(Z===x)break;else Y['push'](Y['shift']());}catch(p){Y['push'](Y['shift']());}}}(m,0x1caf5));var __importDefault=this&&this['__importDefault']||function(i){var t=e;return i&&i[t(0x1b6)]?i:{'default':i};};function m(){var m3=['JHCZi','oUYSg','getType','2|0|1|4|3','ChatManager','values','PSMXN','ybzWS','USER_COLUMN','getString','gUzTK','lNmWX','36zXshgx','tRMAI','getUnreadMember','default','length','jAeUR','Cursor','ALL_JOIN_COLUMN','FJYXp','getNextChat','rEkTV','cUZjm','CVhmw','get','database','cursorToUser','WNXgC','CHAT_USER_JOIN_COLUMN','reduce','FPxhU','xGnFz','viWZC','283524SdRjBO','아직\x20없음','xyeRv','getPrevChat','HOnNE','\x20\x20WHERE\x20c_id\x20=\x20?','3LSdhKt','rawQuery','getLong','where','lDXOg','close','userMapper','187560GatGsG','from','prototype','cursorToAll','parseOnlyNum','1853720seuzEv','moveToFirst','LQUJn','getChatStack','userKey','getColumnName','filter','1496012ImxJWs','__esModule','VdoKN','_instance','_getMinIdsToUsers','SELECT\x20active_member_ids\x20FROM\x20chat_rooms\x20WHERE\x20id\x20=\x20?','fBoGL','setUserKey','defineProperty','select','cursorToUserObject','DvVsY','../../../sql-bricks','../decrypt','ALL_COLUMN','name','ALSJl','xLitb','channel','113319AiSpFf','concurrent','wRuQi','74950NwptVJ','SELECT\x20_id\x20\x20FROM\x20chat_logs\x20ORDER\x20BY\x20_id\x20DESC\x20LIMIT\x201','FjfVB','Mapper','dWPJj','../../../utils','127356pWloDV','9|0|5|6|8|7|1|4|3|2','shutdown','BOJGT','raw','cursorToChatUser','getMultipleUsersByIDs','getFloat','GsLmM','split','YwScP','join','ZnaQN','getOneUserByID','DB2.friends','230NJGqHj','jtlfQ','push','util','yeXLH','getInstance','text','getDisplayName','CHAT_USER_COLUMN','moveToNext','knIqs','getLastID','MAX_SAFE_INTEGER','../../../BigJSON','chat_id','moveToLast','prepare'];m=function(){return m3;};return m();}Object[N(0x1bd)](exports,'__esModule',{'value':!0x0}),exports[N(0x1f5)]=void 0x0;var BigJSON_1=require(N(0x1ed)),sql_bricks_1=__importDefault(require(N(0x1c1))),decrypt_1=__importDefault(require(N(0x1c2))),utils_1=require(N(0x1d0)),column_const_1=require('../../../utils/mapper/column_const'),parseOnlyNum=BigJSON_1['BigJSON'][N(0x1ad)],CompletableFuture=java['util'][N(0x1c9)]['CompletableFuture'],Executors=java[N(0x1e3)][N(0x1c9)]['Executors'],groupBy=function(i,x){var l=N;return i[l(0x20f)](function(Y,Z){return Y[Z[x]]=Z,Y;},{});},ChatManager=exports[N(0x1f5)]=(function(){var O=N,i={'fBoGL':function(Y,Z){return Y===Z;},'FPxhU':function(Y,Z){return Y===Z;},'HOnNE':function(Y,Z){return Y+Z;},'FJYXp':function(Y,Z){return Y+Z;},'jAeUR':'SELECT\x20','lDXOg':function(Y,Z){return Y<Z;},'jtlfQ':'SELECT\x20active_member_ids,watermarks\x20from\x20chat_rooms\x20WHERE\x20id\x20=\x20?','cUZjm':function(Y,Z){return Y(Z);},'rEkTV':function(Y,Z){return Y(Z);},'YwScP':function(Y,Z){return Y>=Z;},'CVhmw':function(Y,Z){return Y(Z);},'ZnaQN':function(Y,Z){return Y(Z);},'gUzTK':function(Y,Z){return Y===Z;},'GsLmM':'\x20WHERE\x20c_id\x20<\x20?\x20AND\x20c_chat_id\x20=\x20?\x20ORDER\x20BY\x20c_id\x20\x20DESC\x20LIMIT\x201\x20OFFSET\x20?','wRuQi':function(Y,Z){return Y-Z;},'knIqs':function(Y,Z){return Y+Z;},'JHCZi':function(Y,Z){return Y-Z;},'WNXgC':function(Y,Z){return Y+Z;},'VdoKN':function(Y,Z){return Y+Z;},'ALSJl':'\x20WHERE\x20c__id\x20>\x20?\x20AND\x20c__id\x20<=\x20?\x20ORDER\x20BY\x20c__id','BOJGT':function(Y,Z){return Y===Z;},'ybzWS':function(Y,Z){return Y||Z;},'oUYSg':function(Y,Z){return Y(Z);},'viWZC':O(0x1cc),'tRMAI':function(Y,Z){return Y+Z;},'NQQDM':'\x20FROM\x20DB2.friends\x20WHERE\x20id\x20=\x20?','xGnFz':O(0x1d2),'lNmWX':function(Y,Z){return Y<=Z;},'PSMXN':function(Y,Z){return Y<Z;},'xyeRv':function(Y,Z){return Y<Z;},'FjfVB':O(0x1df),'DvVsY':O(0x1c4),'LQUJn':O(0x1ba),'xLitb':function(Y,Z){return Y!=Z;},'yeXLH':function(Y,Z){return Y<Z;},'dWPJj':function(Y,Z){return Y>Z;}};function x(Y,Z){var b=O;i[b(0x1bb)](void 0x0,Z)&&(Z=''),this['db']=Y,this[b(0x1b2)]=Z,utils_1[b(0x1ce)][b(0x1bc)](this[b(0x1b2)]);}return x[O(0x1e5)]=function(Y,Z){var T=O;if(i[T(0x1bb)](void 0x0,Y)&&(Y=null),i['fBoGL'](void 0x0,Z)&&(Z=''),i[T(0x210)]('',Z)||i[T(0x1bb)](null,Y)){if(i[T(0x210)](null,x[T(0x1b8)]))throw new Error(T(0x214));return x[T(0x1b8)];}return i[T(0x1bb)](null,x[T(0x1b8)])&&(x[T(0x1b8)]=new x(Y,Z)),x[T(0x1b8)];},x['prototype']['getChatUserByLogID']=function(Y){var j=O,Z=i['HOnNE'](i['FJYXp'](i[j(0x202)],column_const_1[j(0x1e8)])+column_const_1['CHAT_USER_JOIN_COLUMN'],j(0x218)),p=this['db'][j(0x1a3)](Z,[Y]);if(!p[j(0x1af)]())return p['close'](),null;var w=utils_1['Mapper']['cursorToChatUser'](p,this[j(0x1b2)]);return p[j(0x1a7)](),w;},x[O(0x1ab)][O(0x1ff)]=function(Y,Z){var q=O,p=this['db']['rawQuery'](i[q(0x1e1)],[Y]);if(!p[q(0x1af)]())return p[q(0x1a7)](),[];var w=i[q(0x208)](parseOnlyNum,String(p['getString'](0x0))),P=i['cUZjm'](parseOnlyNum,i[q(0x207)](String,p['getString'](0x1)));return w=w[q(0x1b4)](function(v,H){var f=q;if(i[f(0x1a6)](P[H],Z))return v;}),this[q(0x1d7)](w);},x[O(0x1ab)]['getReadMember']=function(Y,Z){var F=O,p=this['db']['rawQuery'](i[F(0x1e1)],[Y]);if(!p[F(0x1af)]())return p[F(0x1a7)](),[];var w=i[F(0x209)](parseOnlyNum,i[F(0x209)](String,p[F(0x1fa)](0x0))),P=i[F(0x1dd)](parseOnlyNum,i[F(0x1dd)](String,p[F(0x1fa)](0x1)));return w=w[F(0x1b4)](function(v,H){var R=F;if(i[R(0x1db)](P[H],Z))return v;}),this['getMultipleUsersByIDs'](w);},x[O(0x1ab)][O(0x216)]=function(Y,Z){var y=O;if(void 0x0===Z&&(Z=0x1),i[y(0x1fb)](0x0,Z))return Y;if(Z<0x0)return this[y(0x206)](Y,-Z);var p=i[y(0x217)](i[y(0x217)](i[y(0x202)]+column_const_1[y(0x1e8)],column_const_1['CHAT_USER_JOIN_COLUMN']),i[y(0x1d9)]),w=this['db'][y(0x1a3)](p,[Y[y(0x1d5)]['id'],Y['raw'][y(0x1ee)],i[y(0x209)](String,i[y(0x1ca)](Z,0x1))]);if(!w[y(0x1af)]())return w['close'](),null;var P=utils_1[y(0x1ce)][y(0x1d6)](w,this[y(0x1b2)]);return P['channel']=Y[y(0x1c7)],w[y(0x1a7)](),P;},x[O(0x1ab)][O(0x206)]=function(Y,Z){var E=O,p='3|5|2|1|0|4'[E(0x1da)]('|'),w=0x0;while(!![]){switch(p[w++]){case'0':var P=utils_1[E(0x1ce)][E(0x1d6)](H,this[E(0x1b2)]);continue;case'1':if(!H['moveToFirst']())return H[E(0x1a7)](),null;continue;case'2':var v=i[E(0x1ea)](i[E(0x205)](i[E(0x202)],column_const_1[E(0x1e8)]),column_const_1[E(0x20e)])+'\x20WHERE\x20c_id\x20>\x20?\x20AND\x20c_chat_id\x20=\x20?\x20ORDER\x20BY\x20c_id\x20\x20LIMIT\x201\x20OFFSET\x20?',H=this['db']['rawQuery'](v,[Y[E(0x1d5)]['id'],Y['raw'][E(0x1ee)],i[E(0x208)](String,i[E(0x1f1)](Z,0x1))]);continue;case'3':if(void 0x0===Z&&(Z=0x1),0x0===Z)return Y;continue;case'4':return P[E(0x1c7)]=Y[E(0x1c7)],H[E(0x1a7)](),P;case'5':if(i['lDXOg'](Z,0x0))return this['getPrevChat'](Y,-Z);continue;}break;}},x['prototype'][O(0x1b1)]=function(Y,Z){var D=O,p=D(0x1f4)[D(0x1da)]('|'),w=0x0;while(!![]){switch(p[w++]){case'0':var P=i[D(0x20d)](i[D(0x1b7)](i[D(0x202)],column_const_1[D(0x1c3)]),column_const_1[D(0x204)])+i[D(0x1c5)],v=this['db'][D(0x1a3)](P,[Y,Z]),H=[];continue;case'1':if(!v[D(0x1af)]())return v[D(0x1a7)](),[];continue;case'2':i[D(0x1d4)](void 0x0,Y)&&(Y=void 0x0),void 0x0===Z&&(Z=void 0x0),Y=i[D(0x1f8)](Y,'0'),Z=Z||i[D(0x1f2)](String,Number[D(0x1ec)]);continue;case'3':return v['close'](),H;case'4':do{var C=utils_1[D(0x1ce)][D(0x1ac)](v,this[D(0x1b2)]);H[D(0x1e2)](C);}while(v[D(0x1e9)]());continue;}break;}},x[O(0x1ab)][O(0x1eb)]=function(){var U=O,Y=this['db'][U(0x1a3)](i[U(0x212)],[]);if(Y[U(0x1af)]()){var Z=String(Y[U(0x1fa)](0x0));return Y['close'](),Z;}Y['close']();},x['prototype'][O(0x1de)]=function(Y){var z=O,Z=i[z(0x1fe)](i[z(0x217)](i[z(0x202)],column_const_1[z(0x1f9)]),i['NQQDM']),p=this['db']['rawQuery'](Z,[Y]);if(!p[z(0x1ef)]())return p[z(0x1a7)](),null;var w=utils_1[z(0x1ce)]['cursorToUser'](p,this[z(0x1b2)]);return p['close'](),w;},x[O(0x1ab)][O(0x1d7)]=function(Y,Z){var A=O,w=i[A(0x211)][A(0x1da)]('|'),P=0x0;while(!![]){switch(w[P++]){case'0':if(i['FPxhU'](void 0x0,Z)&&(Z=!0x1),i[A(0x1fc)](Y[A(0x201)],0xf))return this['_getMinIdsToUsers'](Y,Z);continue;case'1':Q['close']();continue;case'2':return M[A(0x1d3)](),Z?groupBy(W,'id'):W;case'3':for(var v=0x0;i[A(0x1f7)](v,C[A(0x201)]);v++){var H=C[v][A(0x20a)]();W['push'](H);}continue;case'4':for(var C=[],M=Executors['newFixedThreadPool'](0x4),X=function(G){var h=A,L=CompletableFuture['supplyAsync'](function(){var g=e;return utils_1[g(0x1ce)][g(0x1a8)](G,V[g(0x1b2)]);},M);C[h(0x1e2)](L);},k=0x0,B=K;i[A(0x215)](k,B[A(0x201)]);k++){i[A(0x1f2)](X,v=B[k]);}continue;case'5':var W=[],I=sql_bricks_1[A(0x200)][A(0x1be)](column_const_1[A(0x1f9)])['from'](i[A(0x1cd)])[A(0x1a5)]({'id[^]':Y})[A(0x1f0)](),Q=this['db']['rawQuery'](I[A(0x1e6)],I[A(0x1f6)]);continue;case'6':if(!Q['moveToFirst']())return Q[A(0x1a7)](),Z?{}:[];continue;case'7':do{K['push'](utils_1[A(0x1ce)][A(0x1bf)](Q));}while(Q[A(0x1e9)]());continue;case'8':var K=[];continue;case'9':var V=this;continue;}break;}},x[O(0x1ab)][O(0x1e7)]=function(Y){var S=O,Z=sql_bricks_1[S(0x200)][S(0x1be)](i[S(0x1c0)])[S(0x1aa)](i[S(0x1cd)])[S(0x1a5)]({'id[^]':Y})[S(0x1f0)](),p=this['db']['rawQuery'](Z[S(0x1e6)],Z[S(0x1f6)]),w=[];if(!p[S(0x1af)]())return p[S(0x1a7)](),'';do{w[S(0x1e2)]((0x0,decrypt_1[S(0x200)])(this[S(0x1b2)],0x1e,p['getString'](0x0)));}while(p[S(0x1e9)]());return p[S(0x1a7)](),w[S(0x1dc)](',\x20');},x[O(0x1ab)][O(0x1b9)]=function(Y,Z){var m0=O,p='3|2|0|4|1'[m0(0x1da)]('|'),w=0x0;while(!![]){switch(p[w++]){case'0':if(!H[m0(0x1af)]())return H[m0(0x1a7)](),Z?{}:[];continue;case'1':return H[m0(0x1a7)](),P;case'2':var P=[],v=sql_bricks_1[m0(0x200)][m0(0x1be)](column_const_1[m0(0x1f9)])[m0(0x1aa)](i[m0(0x1cd)])[m0(0x1a5)]({'id[^]':Y})['prepare'](),H=this['db'][m0(0x1a3)](v[m0(0x1e6)],v[m0(0x1f6)]);continue;case'3':void 0x0===Z&&(Z=!0x1);continue;case'4':do{P[m0(0x1e2)](utils_1[m0(0x1ce)][m0(0x20c)](H,this[m0(0x1b2)]));}while(H[m0(0x1e9)]());continue;}break;}},x['prototype']['getMembersByRoomID']=function(Y){var m1=O,Z=this['db']['rawQuery'](i[m1(0x1b0)],[Y]);if(!Z['moveToLast']())return Z[m1(0x1a7)](),null;var p=i[m1(0x1dd)](parseOnlyNum,String(Z[m1(0x1fa)](0x0)));return Z[m1(0x1a7)](),this[m1(0x1d7)](p);},x[O(0x1ab)][O(0x1a3)]=function(Y,Z){var m2=O,p=[];try{var w=this['db'][m2(0x1a3)](Y,i[m2(0x1c6)](null,Z)?Z:[]);if(!w['moveToFirst']())return w[m2(0x1a7)](),[];var P=+w['getColumnCount']();do{for(var v={},H=0x0;i[m2(0x1e4)](H,P);H++){var C=i[m2(0x208)](String,w[m2(0x1b3)](H));switch(w[m2(0x1f3)](H)){case android[m2(0x20b)][m2(0x203)]['FIELD_TYPE_NULL']:v[C]=null;break;case android[m2(0x20b)]['Cursor']['FIELD_TYPE_FLOAT']:v[C]=i[m2(0x207)](Number,w[m2(0x1d8)](H));break;case android[m2(0x20b)][m2(0x203)]['FIELD_TYPE_INTEGER']:var M=i[m2(0x1dd)](Number,w[m2(0x1a4)](H));i[m2(0x1cf)](M,Number[m2(0x1ec)])&&(M=i[m2(0x208)](String,M)),v[C]=M;break;default:v[C]=String(w['getString'](H));}}p[m2(0x1e2)](v);}while(w[m2(0x1e9)]());return w['close'](),p;}catch(c){return p;}},x['_instance']=null,x;}());