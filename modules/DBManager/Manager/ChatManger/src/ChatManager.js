'use strict';function x(H,U){var z=g();return x=function(K,c){K=K-0x87;var L=z[K];return L;},x(H,U);}var C=x;(function(H,U){var i=x,z=H();while(!![]){try{var K=-parseInt(i(0x9a))/0x1*(parseInt(i(0x91))/0x2)+-parseInt(i(0xcb))/0x3+parseInt(i(0x113))/0x4*(-parseInt(i(0xe1))/0x5)+parseInt(i(0xb7))/0x6*(parseInt(i(0x101))/0x7)+-parseInt(i(0x10f))/0x8+-parseInt(i(0x9c))/0x9+parseInt(i(0xa1))/0xa*(parseInt(i(0xf2))/0xb);if(K===U)break;else z['push'](z['shift']());}catch(c){z['push'](z['shift']());}}}(g,0xacf67));function g(){var w=['PCsbw','xGGAm','new_badge_updated_at','getString','chat_id','PhotoChat','favorite','SELECT\x20*\x20FROM\x20DB2.friends\x20WHERE\x20id\x20IN\x20(','nqlNT','zQKzK','InviteFeed','enc','client_message_id','getColumnNames','close','EmoticonChat','710050WLGrap','zHkGh','knAEJ','RpaNX','reoWp','moveToLast','SELECT\x20*\x20FROM\x20chat_logs','prototype','deleted_at','rojcS','status_action_token','getOneUserByID','EWjPe','lQrDJ','length','1044799yirdIW','getLastChat','prev_id','attachment','OqDSr','Jwhic','aoSRb','getInstance','1|0|3|2|4','ext','JyHJH','member_type','UlTUe','status_message','5974016TvGQcg','user','rawQuery','cursorToUserLog','4019420UkMrbC','uHjHK','kiKCI','contact_id','ChatManager','LeaveFeed','countryIso','Cuibg','supplement','NsGfM','user_id','LEqwD','getChatStack','ReplyChat','JcICw','RJgFV','JJGxu','push','moveToNext','40990eJorhe','CvHkg','yodJb','story_user_id','board_v','otGuK','luqRz','type','Chat','28hoXjeu','User','8951607buyFDh','slice','split','full_profile_image_url','MAX_SAFE_INTEGER','590gSKJXL','RCFwn','bcDzn','아직\x20없음','new_badge_seen_at','OldEmoticonChat','OpenChatJoinedFeed','xcjDA','kaDlD','../../DBManager/src/decrypt','kHyuk','decrypt','repeat','KaTms','moveToFirst','profile_image_url','position','created_at','getChatByLogID','FeedChat','./ChatClass','gMGjO','12cNJrYo','feedType','concat','userKey','wlEZI','jpNPg','OpenUser','NNuFK','getMultipleUsersByIDs','SELECT\x20*\x20FROM\x20chat_logs\x20WHERE\x20_id\x20>\x20?\x20AND\x20_id\x20<=\x20?\x20ORDER\x20BY\x20_id','raw','map','account_id','getAlreadyInstance','name','UUMce','brand_new','defineProperty','DemoteFeed','DrtXX','235257UzUUGB','involved_chat_ids','hidden','forEach','parse','UyCrg','SViay','cursorToChatLog','mfAQI','user_type','NbMoG','_instance','OpenChatKickedFeed','BigJSON','phonetic_name','_id','LulwX','CoyYA','GeGfw','PromoteFeed','DeleteFeed','message','5IspmAB'];g=function(){return w;};return g();}Object[C(0xc8)](exports,'__esModule',{'value':!0x0}),exports[C(0x117)]=void 0x0;var CursorManager,ChatClass_1=require(C(0xb5)),decrypt_1=require(C(0xaa)),BigJSON_1=require('../../../BigJSON'),UserManger_1=require('../../UserManger'),parse=BigJSON_1[C(0xd8)][C(0xcf)],groupBy=function(H,U){return H['reduce'](function(z,K){return z[K[U]]=K,z;},{});},ChatManager=(function(){var p=C,H={'DrtXX':function(z,K){return z===K;},'zQKzK':function(z,K){return z===K;},'luqRz':p(0xa4),'JJGxu':'SELECT\x20*\x20FROM\x20chat_logs\x20WHERE\x20id\x20=\x20?','EWVKU':'SELECT\x20*\x20FROM\x20chat_logs\x20WHERE\x20prev_id\x20=\x20?','rojcS':function(z,K){return z||K;},'otGuK':function(z,K){return z(K);},'DVKzZ':p(0xc0),'GeGfw':function(z,K){return z<K;},'xcjDA':p(0x109),'lQrDJ':p(0xf8),'reoWp':function(z,K){return z===K;},'CoyYA':p(0xe9)};function U(z,K){var r=p;H[r(0xca)](void 0x0,K)&&(K=''),this['db']=z,this[r(0xba)]=K;}return U[p(0x108)]=function(z,K){var T=p;return H['DrtXX'](null,U['_instance'])&&(U[T(0xd6)]=new U(z,K)),U[T(0xd6)];},U[p(0xc4)]=function(){var h=p;if(H['zQKzK'](null,U[h(0xd6)]))throw new Error(H[h(0x97)]);return U[h(0xd6)];},U[p(0xf9)][p(0xb3)]=function(z,K){var D=p;H[D(0xeb)](void 0x0,K)&&(K=!0x0);var c=this['db'][D(0x111)](H[D(0x8e)],[z]);if(!c[D(0xaf)]())return null;var L=CursorManager[D(0xd2)](c,this[D(0xba)]);return c[D(0xf0)](),K&&(L[D(0x110)]=this['getOneUserByID'](L[D(0xc1)][D(0x88)])),L;},U['prototype']['getUnderChat']=function(z,K){var F=p;H[F(0xeb)](void 0x0,K)&&(K=!0x0);var c=this['db'][F(0x111)](H['EWVKU'],[z]);if(!c[F(0xaf)]())return null;var L=CursorManager['cursorToChatLog'](c,this[F(0xba)]);return c[F(0xf0)](),K&&(L['user']=this[F(0xfd)](L['raw'][F(0x88)])),L;},U['prototype'][p(0x8a)]=function(z,K){var G=p;void 0x0===z&&(z=void 0x0),H[G(0xca)](void 0x0,K)&&(K=void 0x0),z=H[G(0xfb)](z,'0'),K=K||H[G(0x96)](String,Number[G(0xa0)]);var L=this['db'][G(0x111)](H['DVKzZ'],[z,K]),v=[];if(!L[G(0xaf)]())return v;do{var j=CursorManager['cursorToChatLog'](L,this[G(0xba)]);v[G(0x8f)](j);}while(L[G(0x90)]());L['close']();var Q=new Set(v[G(0xc2)](function(m){var o=G;return m[o(0xc1)][o(0x88)];})),S=this[G(0xbf)](Array['from'](Q),!0x0);if(!Array['isArray'](S))for(var E=0x0,B=v;H[G(0xdd)](E,B[G(0x100)]);E++){var I=B[E];I[G(0x110)]=S[I[G(0xc1)]['user_id']];}return v;},U[p(0xf9)][p(0x102)]=function(z){var a=p,K=H[a(0xa8)][a(0x9e)]('|'),c=0x0;while(!![]){switch(K[c++]){case'0':var L=this['db'][a(0x111)](H[a(0xff)],[]);continue;case'1':H[a(0xeb)](void 0x0,z)&&(z=!0x0);continue;case'2':var v=CursorManager[a(0xd2)](L,this[a(0xba)]);continue;case'3':if(!L[a(0xf7)]())return null;continue;case'4':return L[a(0xf0)](),z&&(v['user']=this['getOneUserByID'](v[a(0xc1)][a(0x88)])),v;}break;}},U[p(0xf9)]['getOneUserByID']=function(z){var q=p,K=this['db'][q(0x111)]('SELECT\x20*\x20FROM\x20DB2.friends\x20WHERE\x20id\x20=\x20?',[z]);if(!K['moveToLast']())return null;var c=CursorManager[q(0x112)](K,this[q(0xba)]);return K['close'](),c;},U[p(0xf9)][p(0xbf)]=function(z,K){var f=p;H[f(0xf6)](void 0x0,K)&&(K=!0x1);var c='?,'[f(0xad)](z[f(0x100)])[f(0x9d)](0x0,-0x1),L=H[f(0xdc)][f(0xb9)](c,')'),v=this['db'][f(0x111)](L,z),j=[];if(!v[f(0xaf)]())return j;do{var Q=CursorManager[f(0x112)](v,this[f(0xba)]);j[f(0x8f)](Q);}while(v[f(0x90)]());return v['close'](),K?groupBy(j,'id'):j;},U[p(0xd6)]=null,U;}());exports[C(0x117)]=ChatManager,function(H){var d=C,U={'UrslY':function(K,c){return K==c;},'UlTUe':function(K,c){return K===c;},'mfAQI':function(K,c){return K(c);},'OqDSr':d(0x116),'xGGAm':d(0xe6),'kaDlD':d(0x94),'zHkGh':d(0xc3),'jpNPg':d(0xa5),'LulwX':d(0xfc),'kiKCI':function(K,c){return K(c);},'uHjHK':d(0x98),'DQysC':d(0xd4),'LEqwD':d(0x10c),'PCsbw':d(0xc7),'UyCrg':'blocked','nqlNT':d(0xe8),'NsGfM':d(0xcd),'uJCYm':'purged','yodJb':d(0xcc),'CvHkg':function(K,c){return K(c);},'MaZRq':function(K,c){return K(c);},'aoSRb':function(K,c){return K!==c;},'Cuibg':d(0xc5),'RCFwn':d(0xd9),'NNuFK':d(0xb0),'Rhqer':d(0x9f),'GIHUf':'original_profile_image_url','OGYBC':d(0x10e),'wlEZI':d(0x95),'bcDzn':function(K,c){return K(c);},'MSjoP':d(0xda),'RpaNX':d(0x88),'IpnHp':'created_at','RJgFV':d(0xfa),'YNWHN':d(0xee),'Jwhic':d(0x103),'hUWFk':'referer','JcICw':function(K,c){return K(c);},'UUMce':function(K,c){return K(c);},'kHyuk':function(K,c){return K===c;},'EWjPe':function(K,c){return K!==c;},'gMGjO':function(K,c){return K(c);},'NbMoG':function(K,c){return K(c);},'SViay':function(K,c){return K(c);},'knAEJ':function(K,c){return K(c);},'JyHJH':function(K,c){return K===c;},'KaTms':function(K,c){return K===c;}};function z(K){var b=d;return U['UrslY'](null,K)||U[b(0x10d)]('',K);}H[d(0x112)]=function(K,c){var t=d,L={'qdUzT':function(Q,S){return U['MaZRq'](Q,S);}},v,n={};K[t(0xef)]()['forEach'](function(Q,S){var P=t;Q=U[P(0xd3)](String,Q);var u=K[P(0xe5)](S);switch(Q){case P(0xda):case U[P(0x105)]:case'id':case U[P(0xe3)]:case P(0xb2):case U[P(0xa9)]:case U[P(0xf3)]:case P(0xe4):case U[P(0xbc)]:case U[P(0xdb)]:default:n[Q]=u&&U[P(0x115)](String,u);break;case U[P(0x114)]:case P(0xed):case P(0xb1):case U['DQysC']:case U[P(0x89)]:n[Q]=U[P(0x115)](Number,u);break;case U[P(0xe2)]:case U[P(0xd0)]:case U[P(0xea)]:case U[P(0x87)]:case U['uJCYm']:case'suspended':n[Q]=U[P(0xd3)](Boolean,U['kiKCI'](Number,u));break;case U[P(0x93)]:n[Q]=parse(U[P(0x92)](String,u));}});var j=U[t(0x107)](null,v=n[t(0xed)])&&U[t(0x107)](void 0x0,v)?v:0x1e;return[U[t(0x11a)],U[t(0xa2)],U[t(0xbe)],U['Rhqer'],U['GIHUf'],U['OGYBC']][t(0xce)](function(Q){n[Q]=(0x0,decrypt_1['decrypt'])(c,j,n[Q]);}),['v',U[t(0xbb)],t(0x10a)][t(0xce)](function(Q){var A=t,S=(0x0,decrypt_1[A(0xac)])(c,j,n[Q]);n[Q]=S&&parse(L['qdUzT'](String,S));}),U[t(0x107)](void 0x0,n['v'][t(0x119)])?new UserManger_1[(t(0x9b))](n):new UserManger_1[(t(0xbd))](n);},H[d(0xd2)]=function(K,L){var Z=d,v,j,Q={'_id':'','attachment':null,'chat_id':'','client_message_id':'','created_at':'','deleted_at':'','id':'','message':'','prev_id':'','referer':0x0,'supplement':null,'type':0x0,'user_id':'','v':null};K[Z(0xef)]()['forEach'](function(W,Y){var M=Z;W=U[M(0xa3)](String,W);var V=K['getString'](Y);switch(W){case U['MSjoP']:case'id':case U['xGGAm']:case U[M(0xf5)]:case U['IpnHp']:case U[M(0x8d)]:case U['YNWHN']:case U[M(0x106)]:Q[W]=U[M(0x115)](String,V);break;case U[M(0x114)]:case U['hUWFk']:Q[W]=U[M(0x8c)](Number,V);break;case'v':Q[W]=parse(U[M(0x8c)](String,V));break;default:Q[W]=V&&U[M(0xc6)](String,V);}});var S=Q[Z(0x88)],E=null!==(j=U[Z(0x10d)](null,v=U['UrslY'](null,Q)?void 0x0:Q['v'])||U[Z(0xab)](void 0x0,v)?void 0x0:v['enc'])&&U[Z(0xfe)](void 0x0,j)?j:0x1e,B=(0x0,decrypt_1[Z(0xac)])(S,E,Q[Z(0x104)]),I=(0x0,decrypt_1['decrypt'])(S,E,Q[Z(0x11b)]),m=(0x0,decrypt_1[Z(0xac)])(S,E,Q[Z(0xe0)]);switch(Q['attachment']=U[Z(0xb6)](z,B)?B:U[Z(0xd5)](parse,B),Q[Z(0x11b)]=U[Z(0xd1)](z,I)?I:U['MaZRq'](parse,I),Q[Z(0xe0)]=m,Q['type']){case 0x0:return Q['message']=U[Z(0xf4)](parse,Q[Z(0xe0)]),U[Z(0x10b)](0x1,Q['message']['feedType'])?new ChatClass_1[(Z(0xec))](Q):0x2===Q[Z(0xe0)]['feedType']?new ChatClass_1[(Z(0x118))](Q):0x4===Q[Z(0xe0)]['feedType']?new ChatClass_1[(Z(0xa7))](Q):U[Z(0xae)](0x6,Q[Z(0xe0)][Z(0xb8)])?new ChatClass_1[(Z(0xd7))](Q):0xb===Q['message'][Z(0xb8)]?new ChatClass_1[(Z(0xde))](Q):U[Z(0xae)](0xc,Q[Z(0xe0)][Z(0xb8)])?new ChatClass_1[(Z(0xc9))](Q):U[Z(0x10b)](0xe,Q[Z(0xe0)][Z(0xb8)])?new ChatClass_1[(Z(0xdf))](Q):U['JyHJH'](0xf,Q[Z(0xe0)][Z(0xb8)])?new ChatClass_1['HandOverFeed'](Q):new ChatClass_1[(Z(0xb4))](Q);case 0x1:return new ChatClass_1['NormalChat'](Q);case 0x2:return new ChatClass_1[(Z(0xe7))](Q);case 0x6:return new ChatClass_1[(Z(0xa6))](Q);case 0xc:case 0x14:return new ChatClass_1[(Z(0xf1))](Q);case 0x1a:return new ChatClass_1[(Z(0x8b))](Q);case 0x1b:return new ChatClass_1['MultiPhotoChat'](Q);default:return new ChatClass_1[(Z(0x99))](Q);}};}(CursorManager||(CursorManager={}));