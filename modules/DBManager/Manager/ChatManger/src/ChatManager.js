'use strict';var E=P;(function(X,q){var V=P,K=X();while(!![]){try{var h=parseInt(V(0x154))/0x1*(-parseInt(V(0xa8))/0x2)+-parseInt(V(0x176))/0x3+parseInt(V(0x11d))/0x4*(parseInt(V(0x149))/0x5)+-parseInt(V(0x125))/0x6+-parseInt(V(0x123))/0x7*(-parseInt(V(0x118))/0x8)+-parseInt(V(0x131))/0x9+parseInt(V(0x13a))/0xa;if(h===q)break;else K['push'](K['shift']());}catch(d){K['push'](K['shift']());}}}(i,0x85305));Object[E(0x167)](exports,'__esModule',{'value':!0x0}),exports['ChatManager']=void 0x0;var CursorManager,ChatClass_1=require(E(0x142)),decrypt_1=require(E(0x15b)),BigJSON_1=require('../../../BigJSON'),UserManger_1=require(E(0xa5)),parse=BigJSON_1[E(0x124)]['parse'],RoomManger_1=require(E(0x155)),groupBy=function(X,q){return X['reduce'](function(K,h){return K[h[q]]=h,K;},{});},ChatManager=(function(){var A=E,X={'ImTtp':function(K,h){return K===h;},'PZwyG':function(K,h){return K===h;},'QuzVo':A(0x109),'zunyc':function(K,h){return K===h;},'tywwv':A(0x11c),'IcoWd':A(0x117),'DDdfv':function(K,h){return K===h;},'SXTKp':'SELECT\x20*\x20FROM\x20chat_logs\x20WHERE\x20prev_id\x20=\x20?','rQPcI':A(0x132),'dXkHP':function(K,h){return K<h;},'tGJoi':function(K,h){return K===h;},'Iwjzq':function(K,h){return K||h;},'afhuM':A(0x175),'pPaiT':A(0x186),'rfeWe':function(K,h){return K===h;},'mARFQ':'SELECT\x20*\x20FROM\x20chat_logs','NnngX':A(0x12c),'fhjEQ':function(K,h,d){return K(h,d);},'yvjKF':function(K,h){return K===h;},'CfxaI':'SELECT\x20*\x20FROM\x20DB2.friends\x20WHERE\x20id\x20IN\x20(','jvIvu':'SELECT\x20*\x20FROM\x20chat_rooms\x20WHERE\x20id\x20=\x20?','qvOEp':A(0x172)};function q(K,h){var s=A;X['ImTtp'](void 0x0,h)&&(h=''),this['db']=K,this[s(0xb8)]=h;}return q[A(0xc0)]=function(K,h){var l=A;if(void 0x0===K&&(K=null),X[l(0x141)](void 0x0,h)&&(h=''),X[l(0x10c)]('',h)||X['ImTtp'](null,K)){if(null===q['_instance'])throw new Error(X[l(0x12e)]);return q[l(0xc2)];}return X[l(0x141)](null,q['_instance'])&&(q['_instance']=new q(K,h)),q['_instance'];},q[A(0xfd)]=function(){var T=A;if(null===q[T(0xc2)])throw new Error(X[T(0x12e)]);return q[T(0xc2)];},q[A(0x104)][A(0x13f)]=function(K,h){var Q=A,d='3|4|2|0|1'[Q(0x114)]('|'),L=0x0;while(!![]){switch(d[L++]){case'0':var b=CursorManager[Q(0xeb)](z,this[Q(0xb8)]);continue;case'1':return z[Q(0x168)](),h&&(b['user']=this[Q(0x178)](b[Q(0x14c)][Q(0xdf)])),b;case'2':if(!z['moveToFirst']())return null;continue;case'3':X[Q(0x12a)](void 0x0,h)&&(h=!0x0);continue;case'4':var z=this['db'][Q(0x10e)](X[Q(0x153)],[K]);continue;}break;}},q[A(0x104)][A(0x150)]=function(K,h){var j=A,d=X[j(0x169)][j(0x114)]('|'),L=0x0;while(!![]){switch(d[L++]){case'0':if(!z[j(0x185)]())return null;continue;case'1':return z['close'](),h&&(b[j(0xdb)]=this[j(0x178)](b[j(0x14c)][j(0xdf)])),b;case'2':var b=CursorManager[j(0xeb)](z,this[j(0xb8)]);continue;case'3':X[j(0x105)](void 0x0,h)&&(h=!0x0);continue;case'4':var z=this['db'][j(0x10e)](X['SXTKp'],[K]);continue;}break;}},q[A(0x104)][A(0x127)]=function(K,h){var w=A,d=this['db']['rawQuery'](K,h);if(!d['moveToFirst']())return null;var L=CursorManager[w(0xeb)](d,this[w(0xb8)]);return d[w(0x168)](),L;},q[A(0x104)][A(0x14e)]=function(K,h){var f=A,d=X[f(0xf9)][f(0x114)]('|'),L=0x0;while(!![]){switch(d[L++]){case'0':if(!I[f(0x185)]())return W;continue;case'1':var b=new Set(W['map'](function(O){var a=f;return O['raw'][a(0xdf)];})),z=this[f(0x12b)](Array[f(0xfb)](b),!0x0);continue;case'2':if(!Array[f(0x12d)](z))for(var S=0x0,g=W;X['dXkHP'](S,g[f(0xbf)]);S++){var N=g[S];N['user']=z[N[f(0x14c)][f(0xdf)]];}continue;case'3':X[f(0x110)](void 0x0,K)&&(K=void 0x0),X['ImTtp'](void 0x0,h)&&(h=void 0x0),K=X[f(0x146)](K,'0'),h=h||String(Number[f(0x13d)]);continue;case'4':return W;case'5':do{var x=CursorManager[f(0xeb)](I,this[f(0xb8)]);W['push'](x);}while(I[f(0x11a)]());continue;case'6':var I=this['db'][f(0x10e)](X['afhuM'],[K,h]),W=[];continue;case'7':I[f(0x168)]();continue;}break;}},q[A(0x104)]['getLastChat']=function(K){var G=A,h=X[G(0x164)][G(0x114)]('|'),d=0x0;while(!![]){switch(h[d++]){case'0':X[G(0x17b)](void 0x0,K)&&(K=!0x0);continue;case'1':var L=this['db'][G(0x10e)](X[G(0xff)],[]);continue;case'2':return L[G(0x168)](),K&&(b[G(0xdb)]=this[G(0x178)](b[G(0x14c)][G(0xdf)])),b;case'3':var b=CursorManager['cursorToChatLog'](L,this[G(0xb8)]);continue;case'4':if(!L[G(0xf2)]())return null;continue;}break;}},q[A(0x104)]['getOneUserByID']=function(K){var k=A,h=this['db']['rawQuery'](X['NnngX'],[K]);if(!h[k(0xf2)]())return null;var d=CursorManager['cursorToUserLog'](h,this[k(0xb8)]);return h[k(0x168)](),d;},q[A(0x104)][A(0x12b)]=function(K,h){var U=A,d='1|4|2|3|0'[U(0x114)]('|'),L=0x0;while(!![]){switch(d[L++]){case'0':return g['close'](),h?X[U(0x181)](groupBy,N,'id'):N;case'1':X['yvjKF'](void 0x0,h)&&(h=!0x1);continue;case'2':if(!g[U(0x185)]())return N;continue;case'3':do{var b=CursorManager[U(0x17a)](g,this['userKey']);N['push'](b);}while(g[U(0x11a)]());continue;case'4':var z='?,'['repeat'](K[U(0xbf)])[U(0xc5)](0x0,-0x1),S=X[U(0xb7)][U(0x115)](z,')'),g=this['db'][U(0x10e)](S,K),N=[];continue;}break;}},q[A(0x104)][A(0x11b)]=function(K){var F=A,h=this['db'][F(0x10e)](X[F(0xac)],[K]);if(!h[F(0xf2)]())return null;var d=CursorManager[F(0x113)](h,this[F(0xb8)]);return h[F(0x168)](),d;},q[A(0x104)][A(0x121)]=function(K){var p=A,h=this['db'][p(0x10e)](X[p(0xd9)],[K]);if(!h[p(0xf2)]())return null;var d=CursorManager[p(0x173)](h);return h[p(0x168)](),this[p(0x12b)](d);},q[A(0xc2)]=null,q;}());exports[E(0xd7)]=ChatManager,function(X){var R=E,q={'LyJcQ':function(h,d){return h==d;},'crwos':function(h,d){return h===d;},'aozRg':'contact_id','Wefls':R(0x130),'cgYam':R(0xe6),'Qbair':R(0xed),'zgYVY':R(0x161),'WixHh':'new_badge_updated_at','BHvKT':R(0xd3),'UnLtq':R(0x145),'CnvyI':R(0x120),'uCrBQ':R(0xe7),'FfWmL':R(0xcb),'rYyzu':'member_type','FVIlj':R(0x171),'eXWMv':R(0x10f),'KHKzc':'hidden','ppzfr':R(0xf8),'loayN':R(0x152),'xuTjL':R(0x136),'BZBZe':function(h,d){return h!==d;},'cJmwU':R(0x15c),'UQtch':R(0x183),'mILKD':R(0x16e),'CEFcS':R(0x112),'yqMkt':R(0x163),'MrsKE':R(0x116),'ZfJji':function(h,d){return h!==d;},'XpKKR':'_id','OUvLp':R(0xdf),'oFyLf':R(0xdc),'NoUhN':'client_message_id','FGKIR':'prev_id','HHehO':R(0x111),'tmnXl':function(h,d){return h!==d;},'ExvFb':function(h,d){return h===d;},'EBMvd':function(h,d){return h(d);},'JrdFG':function(h,d){return h&d;},'Mxqei':function(h,d){return h(d);},'WjkHX':function(h,d){return h===d;},'ktvho':function(h,d){return h===d;},'yVQQH':function(h,d){return h===d;},'gqAgD':function(h,d){return h(d);},'sDNvY':'last_log_id','YoXXN':R(0x137),'JclPb':R(0xa3),'jArjn':R(0x108),'JlBMn':R(0xcf),'lyGds':R(0x157),'zNsra':R(0x102),'TysqN':R(0xe9),'JvQZs':R(0x14f),'VBVZQ':function(h,d){return h(d);},'SZgmo':function(h,d){return h(d);},'wfrXE':R(0xe8),'aDVfk':R(0xda),'GQogU':R(0xe5),'tghoI':R(0x180),'AZRsQ':R(0x16c),'OGoPe':R(0x147),'iBEQF':R(0xe0),'GFGxb':R(0x135),'XyGQI':'DirectChat','Uvcun':R(0x174),'vOOaR':function(h,d){return h<d;}};function K(h){var m=R;return q['LyJcQ'](null,h)||q[m(0x14d)]('',h);}X['cursorToUserLog']=function(h,d){var C=R,L={'jpiSF':C(0xf3),'EhDul':q[C(0x165)],'Vdyfu':q[C(0x16f)],'ywvzK':q[C(0xb5)],'duiPt':q[C(0x133)],'giQCX':q[C(0xe4)],'kphxK':q['WixHh'],'sWSXJ':q[C(0xf5)],'Lsbre':q[C(0xf1)],'sXqhl':function(g,N){return g(N);},'TqmQt':q[C(0x16b)],'JEGlP':C(0xa4),'MPZny':q['uCrBQ'],'GbxGc':q['FfWmL'],'gBgTO':q['rYyzu'],'CRucj':q['FVIlj'],'JpoKh':q['eXWMv'],'iwhHx':q[C(0x10b)],'dHNdn':q[C(0x140)],'lGhlU':q[C(0xe1)],'KzMbQ':q[C(0x16d)]},b,z={};h['getColumnNames']()[C(0x106)](function(g,N){var r=C;g=String(g);var x=h[r(0xc7)](N);switch(g){case L['jpiSF']:case L[r(0x177)]:case'id':case L[r(0xe3)]:case L[r(0x13c)]:case L[r(0xc3)]:case L[r(0x151)]:case L[r(0x15f)]:case L[r(0x14a)]:case L[r(0xf4)]:default:z[g]=x&&L[r(0x12f)](String,x);break;case L[r(0xaa)]:case L[r(0xa6)]:case L[r(0xd2)]:case L[r(0x119)]:case L[r(0xcc)]:z[g]=Number(x);break;case'brand_new':case L[r(0x15d)]:case L[r(0x11f)]:case L[r(0x184)]:case L['dHNdn']:case L[r(0x10a)]:z[g]=Boolean(Number(x));break;case L[r(0xd8)]:z[g]=L[r(0x12f)](parse,String(x));}});var S=null!==(b=z[C(0xa4)])&&q[C(0x159)](void 0x0,b)?b:0x1e;return[q[C(0x17d)],q[C(0xb4)],q[C(0x148)],q[C(0x101)],q[C(0x17e)],C(0x16a)]['forEach'](function(g){var o=C;z[g]=(0x0,decrypt_1[o(0xa9)])(d,S,z[g]);}),['v',C(0x13b),q[C(0xbe)]][C(0x106)](function(g){var H=C,N=(0x0,decrypt_1['decrypt'])(d,S,z[g]);z[g]=N&&parse(L[H(0x12f)](String,N));}),q[C(0xc6)](void 0x0,z['v'][C(0x162)])?new UserManger_1[(C(0xc8))](z):new UserManger_1[(C(0x179))](z);},X['cursorToChatLog']=function(h,d){var D=R,L={'tzQgK':function(O,B){return O(B);},'WUXGf':q[D(0xf0)],'lWuUg':q[D(0x16f)],'MtnMB':q[D(0xb1)],'nKAiw':q[D(0xf6)],'IHaWf':q[D(0x160)],'dmNIJ':q[D(0x10d)],'vaMOh':q[D(0x16b)],'IfaVg':q[D(0x143)],'WBrBX':function(O,B){return O(B);}},b,z,S={'_id':'','attachment':null,'chat_id':'','client_message_id':'','created_at':'','deleted_at':'','id':'','message':'','prev_id':'','referer':0x0,'supplement':null,'type':0x0,'user_id':'','v':null};h[D(0x17f)]()[D(0x106)](function(O,B){var v=D;O=L[v(0x182)](String,O);var Z=h[v(0xc7)](B);switch(O){case L[v(0x17c)]:case'id':case L['lWuUg']:case L[v(0x11e)]:case v(0xe6):case L[v(0x103)]:case L['IHaWf']:case L['dmNIJ']:S[O]=L[v(0x182)](String,Z);break;case L[v(0xec)]:case L[v(0xfe)]:S[O]=Number(Z);break;case'v':S[O]=L[v(0x182)](parse,L['WBrBX'](String,Z));break;default:S[O]=Z&&L[v(0x182)](String,Z);}});var g=S[D(0xdf)],N=q[D(0xba)](null,z=null===(b=q['LyJcQ'](null,S)?void 0x0:S['v'])||q[D(0xce)](void 0x0,b)?void 0x0:b[D(0xa4)])&&q[D(0xc6)](void 0x0,z)?z:0x1e,x=(0x0,decrypt_1[D(0xa9)])(g,N,S['attachment']),I=(0x0,decrypt_1[D(0xa9)])(g,N,S[D(0xda)]),W=(0x0,decrypt_1['decrypt'])(g,N,S[D(0x144)]);switch(S[D(0x156)]=q['EBMvd'](K,x)?x:q[D(0xef)](parse,x),S[D(0xda)]=K(I)?I:q[D(0xef)](parse,I),S['message']=W,q[D(0xdd)](0xffffbfff,S[D(0x120)])){case 0x0:return S[D(0x144)]=q[D(0xae)](parse,S['message']),q['WjkHX'](0x1,S[D(0x144)]['feedType'])?new ChatClass_1[(D(0xbb))](S):q['ExvFb'](0x2,S[D(0x144)][D(0xd0)])?new ChatClass_1[(D(0xc1))](S):q['WjkHX'](0x4,S[D(0x144)][D(0xd0)])?new ChatClass_1[(D(0xd6))](S):q['ExvFb'](0x6,S[D(0x144)][D(0xd0)])?new ChatClass_1[(D(0xb2))](S):q['crwos'](0xb,S[D(0x144)][D(0xd0)])?new ChatClass_1[(D(0x107))](S):q[D(0xab)](0xc,S[D(0x144)][D(0xd0)])?new ChatClass_1[(D(0x134))](S):0xe===S['message'][D(0xd0)]?new ChatClass_1[(D(0xfc))](S):q['yVQQH'](0xf,S[D(0x144)][D(0xd0)])?new ChatClass_1[(D(0x15e))](S):new ChatClass_1[(D(0xde))](S);case 0x1:return new ChatClass_1['NormalChat'](S);case 0x2:return new ChatClass_1[(D(0x129))](S);case 0x3:return new ChatClass_1[(D(0xc4))](S);case 0x5:return new ChatClass_1[(D(0x138))](S);case 0x6:return new ChatClass_1[(D(0xb3))](S);case 0xc:case 0x14:case 0x19:return new ChatClass_1[(D(0xea))](S);case 0x10:return new ChatClass_1['MapChat'](S);case 0x12:return new ChatClass_1[(D(0xad))](S);case 0x1a:return new ChatClass_1['ReplyChat'](S);case 0x1b:return new ChatClass_1[(D(0xc9))](S);default:return new ChatClass_1[(D(0xbc))](S);}},X[R(0x173)]=function(h){var c=R;return parse(h[c(0xc7)](0x0));},X[R(0x113)]=function(h,d){var e=R,L={};h[e(0x17f)]()['forEach'](function(z,S){var M=e;z=q['gqAgD'](String,z);var g=h['getString'](S);switch(z){case q['XpKKR']:case'id':case q[M(0x122)]:case q['YoXXN']:case M(0xca):case q[M(0xd4)]:case q[M(0xfa)]:case M(0x158):case q[M(0xd1)]:case M(0x128):case M(0x100):L[z]=g?String(g):null;break;case q[M(0x126)]:case q[M(0x166)]:case q[M(0xbd)]:L[z]=g?Number(g):null;break;case q[M(0xaf)]:L[z]=g?q[M(0x170)](Boolean,q[M(0x15a)](Number,g)):null;break;case q['wfrXE']:case'v':case q['aDVfk']:case q[M(0xbe)]:case q[M(0x13e)]:case M(0xb9):case M(0xb0):case'meta':case q[M(0xee)]:case q[M(0xb6)]:case q['OGoPe']:case q['iBEQF']:case q['GFGxb']:L[z]=g&&parse(q['VBVZQ'](String,g));break;default:L[z]=g&&String(g);}});var b=L['v'][e(0xa4)];return L[e(0xcd)]=(0x0,decrypt_1['decrypt'])(d,b,L[e(0xcd)]),[q['XyGQI'],q[e(0xa7)]][e(0xf7)](L[e(0x120)])?new RoomManger_1[(e(0xe2))](L):new RoomManger_1[(e(0x14b))](L);},X[R(0xd5)]=function(h,d){var y=R;for(var L=h[y(0x17f)](),b=0x0;q[y(0x139)](b,L['length']);b++)if(q['crwos'](q[y(0xae)](String,L[b]),d))return h[y(0xc7)](b);};}(CursorManager||(CursorManager={}));function P(X,q){var K=i();return P=function(h,d){h=h-0xa3;var L=K[h];return L;},P(X,q);}function i(){var Y=['created_at','position','temporary_message','last_chat_log_type','EmoticonChat','cursorToChatLog','vaMOh','story_user_id','tghoI','EBMvd','XpKKR','UnLtq','moveToLast','_id','Lsbre','BHvKT','oFyLf','includes','purged','rQPcI','jArjn','from','DeleteFeed','getAlreadyInstance','IfaVg','mARFQ','mute_until_at','CEFcS','active_members_count','nKAiw','prototype','DDdfv','forEach','PromoteFeed','schat_token','아직\x20없음','lGhlU','KHKzc','PZwyG','FGKIR','rawQuery','favorite','tGJoi','referer','full_profile_image_url','cursorToRoomLog','split','concat','ext','3|4|0|2|1','8UHwqNA','GbxGc','moveToNext','getOneRoomByID','SELECT\x20*\x20FROM\x20chat_logs\x20WHERE\x20id\x20=\x20?','1669004WnCyHX','MtnMB','JpoKh','type','getMembersByRoomID','sDNvY','3004127grPeTN','BigJSON','220974lPfHPe','lyGds','_runQuery','last_joined_log_id','PhotoChat','zunyc','getMultipleUsersByIDs','SELECT\x20*\x20FROM\x20DB2.friends\x20WHERE\x20id\x20=\x20?','isArray','QuzVo','sXqhl','chat_id','1511550cyxyUk','3|6|0|5|7|1|2|4','Qbair','DemoteFeed','blinded_member_ids','involved_chat_ids','last_read_log_id','AudioChat','vOOaR','5380740UuAyuU','board_v','ywvzK','MAX_SAFE_INTEGER','GQogU','getChatByLogID','ppzfr','ImTtp','./ChatClass','HHehO','message','status_action_token','Iwjzq','last_pk_tokens','mILKD','5VsCBJj','sWSXJ','OpenRoom','raw','crwos','getChatStack','is_hint','getUnderChat','giQCX','suspended','tywwv','354223hNqKTE','../../RoomManger','attachment','unread_count','last_skey_token','BZBZe','SZgmo','../../DBManager/src/decrypt','name','CRucj','HandOverFeed','kphxK','NoUhN','account_id','countryIso','original_profile_image_url','pPaiT','aozRg','zNsra','defineProperty','close','IcoWd','status_message','CnvyI','moim_meta','xuTjL','profile_image_url','Wefls','VBVZQ','blocked','SELECT\x20active_member_ids\x20FROM\x20chat_rooms\x20WHERE\x20id\x20=\x20?','userRefreshCursor','MultiChat','SELECT\x20*\x20FROM\x20chat_logs\x20WHERE\x20_id\x20>\x20?\x20AND\x20_id\x20<=\x20?\x20ORDER\x20BY\x20_id','839829dwPfKH','EhDul','getOneUserByID','OpenUser','cursorToUserLog','rfeWe','WUXGf','cJmwU','yqMkt','getColumnNames','private_meta','fhjEQ','tzQgK','phonetic_name','iwhHx','moveToFirst','0|1|4|3|2','last_updated_at','enc','../../UserManger','JEGlP','Uvcun','2KTURhK','decrypt','TqmQt','ktvho','jvIvu','FileChat','Mxqei','JvQZs','watermarks','OUvLp','OpenChatKickedFeed','OldEmoticonChat','UQtch','cgYam','AZRsQ','CfxaI','userKey','active_member_ids','tmnXl','InviteFeed','Chat','TysqN','MrsKE','length','getInstance','LeaveFeed','_instance','duiPt','VideoChat','slice','ZfJji','getString','User','MultiPhotoChat','last_update_seen_id','user_type','gBgTO','last_message','ExvFb','link_id','feedType','JlBMn','MPZny','new_badge_seen_at','JclPb','cursorToOnlyID','OpenChatJoinedFeed','ChatManager','KzMbQ','qvOEp','supplement','user','deleted_at','JrdFG','FeedChat','user_id','invite_info','loayN','Room','Vdyfu','zgYVY','members'];i=function(){return Y;};return i();}