'use strict';var Y=y;(function(Z,J){var P=y,t=Z();while(!![]){try{var L=parseInt(P(0x109))/0x1+-parseInt(P(0xcd))/0x2+parseInt(P(0xfa))/0x3+-parseInt(P(0xc0))/0x4*(parseInt(P(0x143))/0x5)+parseInt(P(0xbe))/0x6+-parseInt(P(0x142))/0x7*(-parseInt(P(0x147))/0x8)+parseInt(P(0x141))/0x9*(-parseInt(P(0xdc))/0xa);if(L===J)break;else t['push'](t['shift']());}catch(U){t['push'](t['shift']());}}}(f,0x200a1));function y(Z,J){var t=f();return y=function(L,U){L=L-0xb3;var D=t[L];return D;},y(Z,J);}Object[Y(0xfd)](exports,'__esModule',{'value':!0x0}),exports['ChatManager']=void 0x0;var CursorManager,ChatClass_1=require(Y(0xc7)),decrypt_1=require(Y(0x149)),BigJSON_1=require(Y(0x12d)),UserManger_1=require(Y(0xf3)),parse=BigJSON_1[Y(0xbd)][Y(0xc3)],groupBy=function(Z,J){var N=Y;return Z[N(0xc6)](function(t,L){return t[L[J]]=L,t;},{});},ChatManager=(function(){var j=Y,Z={'nftme':function(t,L){return t===L;},'DsBrC':function(t,L){return t===L;},'ABzsh':function(t,L){return t===L;},'SgzLK':j(0xf8),'FSAsh':j(0xb9),'jqWqK':function(t,L){return t===L;},'sPgDq':j(0xd4),'RTBqE':j(0x11b),'bLbuR':function(t,L){return t===L;},'LRXuQ':function(t,L){return t||L;},'yrGaP':function(t,L){return t(L);},'kDnHU':j(0x140),'JBhnd':function(t,L){return t<L;},'YYsjk':'2|3|1|0|4','HoEJK':j(0x154)};function J(t,L){var I=j;void 0x0===L&&(L=''),this['db']=t,this[I(0x11d)]=L;}return J['getInstance']=function(t,L){var x=j;if(Z[x(0x13e)](void 0x0,t)&&(t=null),Z[x(0x13e)](void 0x0,L)&&(L=''),Z['nftme']('',L)||null===t){if(Z['DsBrC'](null,J[x(0x113)]))throw new Error('아직\x20없음');return J[x(0x113)];}return null===J[x(0x113)]&&(J[x(0x113)]=new J(t,L)),J['_instance'];},J[j(0x157)]=function(){var q=j;if(Z['ABzsh'](null,J[q(0x113)]))throw new Error(Z[q(0x116)]);return J['_instance'];},J[j(0xdf)][j(0x12c)]=function(L,U){var e=j,D=Z['FSAsh'][e(0xdd)]('|'),o=0x0;while(!![]){switch(D[o++]){case'0':Z['jqWqK'](void 0x0,U)&&(U=!0x0);continue;case'1':if(!O[e(0x123)]())return null;continue;case'2':var u=CursorManager['cursorToChatLog'](O,this[e(0x11d)]);continue;case'3':var O=this['db'][e(0xcb)](Z[e(0x14f)],[L]);continue;case'4':return O[e(0x115)](),U&&(u[e(0x10a)]=this[e(0x14d)](u['raw'][e(0x110)])),u;}break;}},J[j(0xdf)][j(0x117)]=function(L,U){var g=j,D=Z[g(0x158)][g(0xdd)]('|'),o=0x0;while(!![]){switch(D[o++]){case'0':return O['close'](),U&&(u[g(0x10a)]=this[g(0x14d)](u[g(0xf4)]['user_id'])),u;case'1':if(!O[g(0x123)]())return null;continue;case'2':Z[g(0x13e)](void 0x0,U)&&(U=!0x0);continue;case'3':var u=CursorManager[g(0x130)](O,this[g(0x11d)]);continue;case'4':var O=this['db']['rawQuery'](g(0x127),[L]);continue;}break;}},J[j(0xdf)][j(0x128)]=function(L,U){var d=j,D=this['db'][d(0xcb)](L,U);if(!D[d(0x123)]())return null;var o=CursorManager[d(0x130)](D,this[d(0x11d)]);return D['close'](),o;},J['prototype']['getChatStack']=function(L,U){var H=j;Z[H(0x10d)](void 0x0,L)&&(L=void 0x0),void 0x0===U&&(U=void 0x0),L=Z['LRXuQ'](L,'0'),U=U||Z[H(0x14e)](String,Number[H(0xf1)]);var D=this['db'][H(0xcb)](Z[H(0xe3)],[L,U]),O=[];if(!D[H(0x123)]())return O;do{var l=CursorManager[H(0x130)](D,this['userKey']);O[H(0x12b)](l);}while(D[H(0x126)]());D[H(0x115)]();var X=new Set(O[H(0x13a)](function(C){var K=H;return C[K(0xf4)][K(0x110)];})),M=this[H(0x153)](Array[H(0xf2)](X),!0x0);if(!Array[H(0x10e)](M))for(var m=0x0,S=O;Z['JBhnd'](m,S[H(0xda)]);m++){var T=S[m];T[H(0x10a)]=M[T['raw'][H(0x110)]];}return O;},J[j(0xdf)][j(0xdb)]=function(t){var E=j,L=Z[E(0x108)]['split']('|'),U=0x0;while(!![]){switch(L[U++]){case'0':var D=CursorManager[E(0x130)](o,this['userKey']);continue;case'1':if(!o[E(0xb6)]())return null;continue;case'2':Z['bLbuR'](void 0x0,t)&&(t=!0x0);continue;case'3':var o=this['db']['rawQuery'](E(0xe4),[]);continue;case'4':return o['close'](),t&&(D['user']=this[E(0x14d)](D[E(0xf4)][E(0x110)])),D;}break;}},J[j(0xdf)][j(0x14d)]=function(t){var k=j,L=this['db']['rawQuery'](k(0x13f),[t]);if(!L[k(0xb6)]())return null;var U=CursorManager[k(0xde)](L,this[k(0x11d)]);return L[k(0x115)](),U;},J['prototype'][j(0x153)]=function(L,U){var v=j,D=v(0x13b)[v(0xdd)]('|'),u=0x0;while(!![]){switch(D[u++]){case'0':var O='?,'[v(0xfb)](L[v(0xda)])[v(0xcf)](0x0,-0x1),l=Z[v(0xd3)]['concat'](O,')'),X=this['db']['rawQuery'](l,L),M=[];continue;case'1':do{var m=CursorManager['cursorToUserLog'](X,this[v(0x11d)]);M[v(0x12b)](m);}while(X['moveToNext']());continue;case'2':if(!X['moveToFirst']())return M;continue;case'3':return X[v(0x115)](),U?groupBy(M,'id'):M;case'4':Z[v(0x10d)](void 0x0,U)&&(U=!0x1);continue;}break;}},J['_instance']=null,J;}());exports['ChatManager']=ChatManager,function(Z){var i=Y,J={'WtrGH':function(L,U){return L==U;},'MDopn':function(L,U){return L===U;},'RkmiY':function(L,U){return L(U);},'EVXZo':i(0xc9),'WIWUU':i(0x156),'SFjYr':i(0xc8),'eDkbv':i(0xb3),'mfXeE':i(0xed),'KJXrp':i(0xe5),'jeYlP':i(0xf0),'fgQdj':i(0x11a),'CbkBB':i(0x155),'SjigI':i(0x111),'Qscab':i(0xbf),'IDZzC':function(L,U){return L!==U;},'pEghc':function(L,U){return L!==U;},'KDUzB':i(0x148),'VciRe':'phonetic_name','ElxVY':'profile_image_url','aAQuQ':'full_profile_image_url','khqYP':i(0x10c),'jWaUo':'client_message_id','dyVXm':i(0xd1),'nSPuD':i(0x14a),'Hqojy':function(L,U){return L(U);},'FyAyb':function(L,U){return L(U);},'mHoFj':function(L,U){return L==U;},'pcECC':function(L,U){return L!==U;},'uncoK':function(L,U){return L(U);},'xFOfW':function(L,U){return L&U;},'nSvyv':function(L,U){return L===U;},'VfMsc':function(L,U){return L===U;},'mesGQ':function(L,U){return L===U;},'ruoLQ':function(L,U){return L<U;}};function t(L){var V=i;return J[V(0xcc)](null,L)||J[V(0x10b)]('',L);}Z[i(0xde)]=function(L,U){var p=i,D={'skhvn':J[p(0xee)],'sTCwb':J[p(0x144)],'NemUB':'account_id','XpGcs':J[p(0xe1)],'nVJQL':J[p(0xe9)],'ohfhW':J[p(0x131)],'zmrby':J['KJXrp'],'UkSEC':J['jeYlP'],'iPUFv':J[p(0xf5)],'hUlnR':J[p(0x104)],'BgNwn':p(0x138),'kwhZg':J[p(0xd7)],'GOQkV':J[p(0xce)],'tcPdm':function(n,l){return J['RkmiY'](n,l);},'rRbRb':p(0xd5),'DvosS':function(n,l){return n(l);}},o,u={};L[p(0x121)]()[p(0x12a)](function(n,l){var R=p;n=String(n);var X=L[R(0x139)](l);switch(n){case R(0x10c):case'contact_id':case'id':case D[R(0xca)]:case D['sTCwb']:case R(0xd9):case D[R(0xff)]:case R(0xb4):case R(0x125):case D[R(0x129)]:default:u[n]=X&&String(X);break;case D['nVJQL']:case D[R(0xb5)]:case D[R(0xc2)]:case D[R(0xb7)]:case D[R(0x137)]:u[n]=Number(X);break;case'brand_new':case D[R(0x114)]:case D[R(0x145)]:case R(0xbb):case D['kwhZg']:case D['GOQkV']:u[n]=D['tcPdm'](Boolean,Number(X));break;case D[R(0xd8)]:u[n]=D[R(0x11f)](parse,String(X));}});var O=J['IDZzC'](null,o=u[p(0xed)])&&J[p(0xd6)](void 0x0,o)?o:0x1e;return[J[p(0xe0)],J[p(0x118)],J[p(0x112)],J[p(0x101)],p(0x100),p(0xe7)][p(0x12a)](function(n){u[n]=(0x0,decrypt_1['decrypt'])(U,O,u[n]);}),['v',p(0xec),p(0xf6)][p(0x12a)](function(n){var a=p,l=(0x0,decrypt_1[a(0xf9)])(U,O,u[n]);u[n]=l&&parse(J[a(0x13c)](String,l));}),void 0x0!==u['v'][p(0xba)]?new UserManger_1['User'](u):new UserManger_1['OpenUser'](u);},Z[i(0x130)]=function(L,U){var G=i,D={'HXgkn':function(B,W){return B(W);},'lCgyZ':J[G(0xf7)],'eBqDV':J['EVXZo'],'lZJXh':G(0x110),'QTRrt':J[G(0x144)],'QEyqX':J[G(0xef)],'DXCnr':J[G(0x11c)],'aJUjc':J[G(0xe9)],'pOmmq':J[G(0x103)],'kDaFx':function(B,W){var w=G;return J[w(0x151)](B,W);},'WXbMa':function(B,W){return B(W);},'gXnhD':function(B,W){var F=G;return J[F(0x122)](B,W);}},O,l,X={'_id':'','attachment':null,'chat_id':'','client_message_id':'','created_at':'','deleted_at':'','id':'','message':'','prev_id':'','referer':0x0,'supplement':null,'type':0x0,'user_id':'','v':null};L[G(0x121)]()[G(0x12a)](function(B,W){var b=G;B=D[b(0x136)](String,B);var z=L['getString'](W);switch(B){case D['lCgyZ']:case'id':case D[b(0x105)]:case D[b(0x12e)]:case D[b(0x150)]:case b(0x13d):case D[b(0xc5)]:case D[b(0xd0)]:X[B]=D[b(0x136)](String,z);break;case D[b(0xfe)]:case D[b(0xc4)]:X[B]=D[b(0x14b)](Number,z);break;case'v':X[B]=D[b(0x107)](parse,D[b(0x124)](String,z));break;default:X[B]=z&&D[b(0x107)](String,z);}});var M=X[G(0x110)],m=J[G(0x146)](null,l=J[G(0x10b)](null,O=J[G(0x14c)](null,X)?void 0x0:X['v'])||J[G(0x10b)](void 0x0,O)?void 0x0:O[G(0xed)])&&J[G(0x12f)](void 0x0,l)?l:0x1e,S=(0x0,decrypt_1[G(0xf9)])(M,m,X['attachment']),T=(0x0,decrypt_1[G(0xf9)])(M,m,X[G(0x133)]),C=(0x0,decrypt_1[G(0xf9)])(M,m,X[G(0x134)]);switch(X[G(0xe8)]=J[G(0xeb)](t,S)?S:parse(S),X['supplement']=J[G(0x122)](t,T)?T:parse(T),X[G(0x134)]=C,J['xFOfW'](0xffffbfff,X['type'])){case 0x0:return X['message']=J[G(0x122)](parse,X[G(0x134)]),0x1===X[G(0x134)]['feedType']?new ChatClass_1[(G(0x120))](X):J[G(0xea)](0x2,X['message'][G(0x132)])?new ChatClass_1['LeaveFeed'](X):J['MDopn'](0x4,X[G(0x134)]['feedType'])?new ChatClass_1[(G(0x10f))](X):J[G(0x10b)](0x6,X['message'][G(0x132)])?new ChatClass_1[(G(0x102))](X):0xb===X[G(0x134)][G(0x132)]?new ChatClass_1['PromoteFeed'](X):0xc===X['message'][G(0x132)]?new ChatClass_1[(G(0x135))](X):J[G(0x152)](0xe,X[G(0x134)]['feedType'])?new ChatClass_1[(G(0xd2))](X):J['mesGQ'](0xf,X[G(0x134)]['feedType'])?new ChatClass_1['HandOverFeed'](X):new ChatClass_1['FeedChat'](X);case 0x1:return new ChatClass_1[(G(0xe6))](X);case 0x2:return new ChatClass_1['PhotoChat'](X);case 0x3:return new ChatClass_1['VideoChat'](X);case 0x5:return new ChatClass_1[(G(0x11e))](X);case 0x6:return new ChatClass_1[(G(0xe2))](X);case 0xc:case 0x14:case 0x19:return new ChatClass_1['EmoticonChat'](X);case 0x10:return new ChatClass_1[(G(0xfc))](X);case 0x12:return new ChatClass_1[(G(0x119))](X);case 0x1a:return new ChatClass_1[(G(0xb8))](X);case 0x1b:return new ChatClass_1[(G(0xc1))](X);default:return new ChatClass_1[(G(0x106))](X);}},Z['cursorToOnlyID']=function(L,U){var h=i;for(var D=L[h(0x121)](),o=0x0;J[h(0xbc)](o,D['length']);o++)if(J[h(0xeb)](String,D[o])===U)return L['getString'](o);};}(CursorManager||(CursorManager={}));function f(){var c=['./ChatClass','status_action_token','chat_id','skhvn','rawQuery','WtrGH','187538PcTLfR','Qscab','slice','DXCnr','prev_id','DeleteFeed','HoEJK','SELECT\x20*\x20FROM\x20chat_logs\x20WHERE\x20id\x20=\x20?','involved_chat_ids','pEghc','SjigI','rRbRb','story_user_id','length','getLastChat','10fVnxnb','split','cursorToUserLog','prototype','KDUzB','SFjYr','OldEmoticonChat','kDnHU','SELECT\x20*\x20FROM\x20chat_logs','position','NormalChat','status_message','attachment','eDkbv','nSvyv','uncoK','board_v','enc','EVXZo','jWaUo','user_type','MAX_SAFE_INTEGER','from','../../UserManger','raw','fgQdj','ext','khqYP','아직\x20없음','decrypt','93762kClgmd','repeat','MapChat','defineProperty','aJUjc','NemUB','original_profile_image_url','aAQuQ','OpenChatKickedFeed','nSPuD','CbkBB','eBqDV','Chat','WXbMa','YYsjk','142632gTzdIk','user','MDopn','_id','bLbuR','isArray','OpenChatJoinedFeed','user_id','purged','ElxVY','_instance','hUlnR','close','SgzLK','getUnderChat','VciRe','FileChat','member_type','2|4|1|3|0','dyVXm','userKey','AudioChat','DvosS','InviteFeed','getColumnNames','FyAyb','moveToFirst','gXnhD','new_badge_seen_at','moveToNext','SELECT\x20*\x20FROM\x20chat_logs\x20WHERE\x20prev_id\x20=\x20?','_runQuery','XpGcs','forEach','push','getChatByLogID','../../../BigJSON','lZJXh','pcECC','cursorToChatLog','mfXeE','feedType','supplement','message','DemoteFeed','HXgkn','iPUFv','favorite','getString','map','4|0|2|1|3','RkmiY','deleted_at','nftme','SELECT\x20*\x20FROM\x20DB2.friends\x20WHERE\x20id\x20=\x20?','SELECT\x20*\x20FROM\x20chat_logs\x20WHERE\x20_id\x20>\x20?\x20AND\x20_id\x20<=\x20?\x20ORDER\x20BY\x20_id','916506KOoiLb','70JORaPy','797435znpuMY','WIWUU','BgNwn','IDZzC','111368iMPszs','name','../../DBManager/src/decrypt','referer','kDaFx','mHoFj','getOneUserByID','yrGaP','sPgDq','QTRrt','Hqojy','VfMsc','getMultipleUsersByIDs','SELECT\x20*\x20FROM\x20DB2.friends\x20WHERE\x20id\x20IN\x20(','blocked','created_at','getAlreadyInstance','RTBqE','type','new_badge_updated_at','ohfhW','moveToLast','UkSEC','ReplyChat','0|3|1|2|4','countryIso','hidden','ruoLQ','BigJSON','1039362ndZxWF','suspended','4mcspKp','MultiPhotoChat','zmrby','parse','pOmmq','QEyqX','reduce'];f=function(){return c;};return f();}