'use strict';var b=j;(function(B,Q){var d=j,n=B();while(!![]){try{var s=-parseInt(d(0x1d5))/0x1+-parseInt(d(0x185))/0x2*(parseInt(d(0x1a1))/0x3)+-parseInt(d(0x1a6))/0x4+parseInt(d(0x1c2))/0x5*(-parseInt(d(0x1bf))/0x6)+-parseInt(d(0x15b))/0x7+-parseInt(d(0x177))/0x8+-parseInt(d(0x1b5))/0x9*(-parseInt(d(0x1ae))/0xa);if(s===Q)break;else n['push'](n['shift']());}catch(J){n['push'](n['shift']());}}}(V,0xb8c33));var __extends=this&&this[b(0x180)]||(function(){var t=b,B={'djeov':function(n,s){return n instanceof s;},'eqZPA':function(n,s,J){return n(s,J);},'WxZHH':function(n,s){return n!=s;},'gLfKZ':t(0x1b3),'rAhDe':function(n,s){return n!==s;},'SLQdW':function(n,s){return n+s;},'agrLs':function(n,s){return n+s;},'VjhaD':t(0x1bb),'QGSUy':function(n,s){return n(s);},'eWpKP':t(0x1b4),'Jkpjc':function(n,s){return n===s;}},Q=function(n,s){var E=t;return Q=Object[E(0x1b6)]||B[E(0x15c)]({'__proto__':[]},Array)&&function(J,L){var c=E;J[c(0x15d)]=L;}||function(J,L){var a=E;for(var v in L)Object['prototype'][a(0x1bd)]['call'](L,v)&&(J[v]=L[v]);},B[E(0x1bc)](Q,n,s);};return function(s,J){var D=t;if(B[D(0x193)](B[D(0x1b8)],typeof J)&&B[D(0x17a)](null,J))throw new TypeError(B[D(0x175)](B[D(0x1d4)](B[D(0x1c9)],B[D(0x1ab)](String,J)),B[D(0x1a4)]));function L(){var o=D;this[o(0x196)]=s;}B[D(0x1bc)](Q,s,J),s['prototype']=B[D(0x1cf)](null,J)?Object[D(0x16c)](J):(L['prototype']=J[D(0x164)],new L());};}());function V(){var H=['getPath','__esModule','SYNCREWR','HiiDI','enter','fqFEz','lineNumber','kick','release','4295088frEfIM','djeov','__proto__','getChatManager','waitFor','POWER_SERVICE','Attach\x20`/data/data/','/databases/KakaoTalk2.db`\x20as\x20DB2','feedType','prototype','origin','close','setJavaPrimitiveWrap','/databases/KakaoTalk.db','addChannel','emit','-wal','create','execSQL','oxDRG','packageName','invite','PowerManager','mwyhG','Runtime','stop','SLQdW','Boaei','3929992wInBFH','onEvent','exec','rAhDe','isFeed','/data/data/','startWatching','SYNCMEMT','getLastID','__extends','javascript','cZEkr','openDatabase','getContext','2iFVeGb','chmod\x20-R\x20777\x20/data/data/','raw','DELMEM','acquire','mozilla','YQpHW','requestPermission','bind','defineProperty','pZEmR','DBManager','stopWatching','rPxvv','WxZHH','lang','message','constructor','BhFyH','rDOVF','content','zAmMi','setLanguageVersion','MSG','PARTIAL_WAKE_LOCK','NuMYv','maDBM','CHATINFO','4278120flAWOP','getChannelManager','setWakeLock','eWpKP','SYNCDLMSG','2344296ASwpru','chatManager','ENABLE_WRITE_AHEAD_LOGGING','jZrZp','getInstance','QGSUy','leave','obs','20461730paggWB','database','_instance','EventEmitter','_id','function','\x20is\x20not\x20a\x20constructor\x20or\x20null','27ovODMm','setPrototypeOf','user_id','gLfKZ','isWakeLock','sqlite','Class\x20extends\x20value\x20','eqZPA','hasOwnProperty','start','3714dvLgYF','userKey','stack','9355EZDnqQ','../../ChatManger','./emitter/eventemitter','HgnrV','hide','length','Context','VjhaD','SQLiteDatabase','nWkgD','getChatStack','LjwXV','FileObserver','Jkpjc','YCBei','bJvjN','member_type_change','UMGjV','agrLs','1106636qWqXgH','_lastID','frRmx','getRuntime','getWrapFactory','ltiWv','NEWMEM','jbvGY'];V=function(){return H;};return V();}function j(B,Q){var n=V();return j=function(s,J){s=s-0x14d;var L=n[s];return L;},j(B,Q);}Object[b(0x18e)](exports,b(0x153),{'value':!0x0}),exports['DBManager']=void 0x0;var eventemitter_1=require(b(0x1c4)),ChatManger_1=require(b(0x1c3)),ChannelSessionManager_1=require('../../ChannelSessionManager'),FileObserver=android['os'][b(0x1ce)],File=java['io']['File'],Context=android[b(0x199)]['Context'],PowerManager=android['os'][b(0x171)],pm=Api[b(0x184)]()['getSystemService'](Context[b(0x160)]),wakeLock=pm['newWakeLock'](PowerManager[b(0x19d)],b(0x190)),DBManager=function(B){var Y=b,Q={'rDOVF':function(s,J){return s===J;},'ltiWv':function(s,J){return s+J;},'HiiDI':Y(0x17c),'cZEkr':function(s,J){return s|J;},'SMbHj':Y(0x161),'BhFyH':function(s,J){return s+J;},'pZEmR':Y(0x16b),'bJvjN':Y(0x186),'jZrZp':function(s,J){return s!=J;},'LjwXV':function(s,J){return s&J;},'UMGjV':function(s,J){return s<J;},'oxDRG':function(s,J){return s!==J;},'HgnrV':function(s,J){return s==J;},'fqFEz':Y(0x1a0),'mwyhG':'message','YCBei':Y(0x150),'rPxvv':Y(0x188),'zAmMi':function(s,J){return s===J;},'nWkgD':Y(0x1a5),'jbvGY':'delete','CUqPL':Y(0x154),'maDBM':Y(0x1c6),'YQpHW':Y(0x17e),'Boaei':Y(0x1d2),'frRmx':function(s,J){return s+J;},'NuMYv':function(s,J,L){return s(J,L);}};function n(s,J,L){var P=Y;Q[P(0x198)](void 0x0,L)&&(L=!0x1);var v=B['call'](this)||this;return v[P(0x1b9)]=!0x1,v[P(0x16f)]='',v[P(0x1c0)]='',v['_lastID']=void 0x0,L&&v[P(0x18c)](),v[P(0x16f)]=s,v[P(0x1c0)]=J,v['db']=android[P(0x1af)][P(0x1ba)]['SQLiteDatabase'][P(0x183)](Q[P(0x14f)](Q[P(0x155)],v[P(0x16f)])+P(0x168),null,Q[P(0x182)](android['database']['sqlite']['SQLiteDatabase']['CREATE_IF_NECESSARY'],android[P(0x1af)][P(0x1ba)][P(0x1ca)][P(0x1a8)])),v['db'][P(0x16d)](Q[P(0x14f)](Q['SMbHj']+v[P(0x16f)],P(0x162)),[]),v[P(0x1a7)]=ChatManger_1['ChatManager'][P(0x1aa)](v['db'],v[P(0x1c0)]),v['obs']=new JavaAdapter(FileObserver,{'onEvent':v['onEvent'][P(0x18d)](v)},new File(Q['BhFyH'](v['db'][P(0x152)](),Q[P(0x18f)]))),v;}return Q[Y(0x19e)](__extends,n,B),n['getInstance']=function(s,J,L){var e=Y;return void 0x0===L&&(L=!0x1),Q[e(0x198)](null,n[e(0x1b0)])&&(n[e(0x1b0)]=new n(s,J,L)),n[e(0x1b0)];},n[Y(0x164)]['requestPermission']=function(){var X=Y;java[X(0x194)][X(0x173)][X(0x14d)]()[X(0x179)]('su'),java['lang'][X(0x173)][X(0x14d)]()['exec'](['su','-c',Q[X(0x14f)](Q[X(0x1d1)],this['packageName'])])[X(0x15f)]();},n[Y(0x164)][Y(0x15e)]=function(){var l=Y;return this[l(0x1a7)];},n[Y(0x164)][Y(0x1a2)]=function(){return ChannelSessionManager_1['ChannelSessionManager'];},n[Y(0x164)][Y(0x169)]=function(s){var w=Y;ChannelSessionManager_1['ChannelSessionManager'][w(0x169)](s);},n['prototype'][Y(0x178)]=function(J,L){var k=Y;if(Q[k(0x1a9)](0x0,Q[k(0x1cd)](J,FileObserver['MODIFY']))){var v=org[k(0x18a)][k(0x181)][k(0x1c8)]['getCurrentContext']();v[k(0x14e)]()[k(0x167)](!0x1),v[k(0x156)]()[k(0x19b)](v['VERSION_ES6']);try{var M=this[k(0x1d6)],S=this[k(0x1a7)][k(0x1cc)](M),f=S[k(0x1c7)];if(Q[k(0x198)](0x0,f))return;this[k(0x1d6)]=S[f-0x1][k(0x187)][k(0x1b2)];for(var U=0x0,W=S;Q[k(0x1d3)](U,W['length']);U++){var K=W[U];if(Q[k(0x16e)](K[k(0x187)][k(0x1b7)],this[k(0x1c0)])){var R=K['raw']['v'],I=K['channel'];switch(Q[k(0x1c5)](null,R)?void 0x0:R[k(0x165)]){case k(0x19c):case Q[k(0x157)]:this[k(0x16a)](Q[k(0x172)],K,I);break;case Q[k(0x1d0)]:K[k(0x17b)]()&&(0x1===K[k(0x163)]?this[k(0x16a)](k(0x170),K,I):this['emit']('join',K,I));break;case Q[k(0x192)]:K['isFeed']()&&(Q['zAmMi'](0x6,K[k(0x163)])?this[k(0x16a)](k(0x159),K,I):Q[k(0x19a)](0x2,K[k(0x163)])&&this[k(0x16a)](k(0x1ac),K,I));break;case Q[k(0x1cb)]:this[k(0x16a)](Q[k(0x151)],K,I);break;case Q['CUqPL']:this[k(0x16a)](Q[k(0x19f)],K,I);break;case Q[k(0x18b)]:this[k(0x16a)](Q[k(0x176)],K,I);}}}}catch(x){Log['e'](Q[k(0x14f)](Q[k(0x197)](Q[k(0x14f)](Q[k(0x1d7)](x[k(0x158)],'\x0a'),x[k(0x195)]),'\x0a'),x[k(0x1c1)]));}}},n[Y(0x164)][Y(0x1be)]=function(){var y=Y;return this[y(0x174)](),this[y(0x1d6)]=this['chatManager'][y(0x17f)](),this[y(0x1ad)][y(0x17d)](),!0x0;},n[Y(0x164)]['stop']=function(){var g=Y;return this['obs'][g(0x191)](),!0x0;},n[Y(0x164)][Y(0x166)]=function(){var A=Y;this['db'][A(0x166)]();},n[Y(0x164)][Y(0x1a3)]=function(s){var G=Y;s&&!this[G(0x1b9)]?(this[G(0x1b9)]=!0x0,wakeLock[G(0x189)]()):!s&&this[G(0x1b9)]&&(this[G(0x1b9)]=!0x1,wakeLock[G(0x15a)]());},n[Y(0x1b0)]=null,n;}(eventemitter_1[b(0x1b1)]);exports['DBManager']=DBManager;