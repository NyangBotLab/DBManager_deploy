'use strict';function E(j,D){var o=Y();return E=function(V,B){V=V-0xb3;var U=o[V];return U;},E(j,D);}var A=E;(function(j,D){var W=E,o=j();while(!![]){try{var V=parseInt(W(0xda))/0x1*(parseInt(W(0x11c))/0x2)+-parseInt(W(0xd4))/0x3*(-parseInt(W(0xf0))/0x4)+parseInt(W(0xfd))/0x5*(parseInt(W(0xf7))/0x6)+parseInt(W(0xea))/0x7+parseInt(W(0x119))/0x8+parseInt(W(0xbd))/0x9*(parseInt(W(0x124))/0xa)+-parseInt(W(0xef))/0xb;if(V===D)break;else o['push'](o['shift']());}catch(B){o['push'](o['shift']());}}}(Y,0xc2d42));function Y(){var R=['kick','prototype','42qodFkv','SYNCMEMT','CHATINFO','qvanN','waitFor','onEvent','hasOwnProperty','GjGHQ','10UsgLVg','fpRXr','Jrvvf','lang','vOHpN','MSG','vBFfc','bKzIZ','startWatching','/databases/KakaoTalk.db','obs','chmod\x20-R\x20777\x20/data/data/','Class\x20extends\x20value\x20','3044187FXPyAG','user','constructor','feedType','Long','NBDjM','getCurrentContext','../../ChatManger','requestPermission','getWrapFactory','KLdMq','length','getInstance','./emitter/eventemitter','lastChat','openDatabase','leave','DEEDC','packageName','SQLiteDatabase','getPath','raw','getRuntime','634983JVVLNV','MzioD','SYNCDLMSG','chatManager','OvKcY','create','14613JCzWUN','IAUpP','CREATE_IF_NECESSARY','fQCSL','setPrototypeOf','_instance','oazxA','hJSLY','bbMXH','emit','database','SYNCREWR','Attach\x20`/data/data/','/databases/KakaoTalk2.db`\x20as\x20DB2','EventEmitter','-wal','10107902gwRdfs','invite','wQCkc','isKicked','RmVTa','37895792VoJfuv','4zbqJOA','FtFIV','addChannel','stopWatching','BfxbV','\x20is\x20not\x20a\x20constructor\x20or\x20null','EmqQx','356658KBdpWa','isFeed','sLGqr','sqlite','userKey','DELMEM','120NNrfGN','JSONObject','File','start','fZwXB','setJavaPrimitiveWrap','bind','json','NEWMEM','MODIFY','rwXmJ','DBManager','/data/data/','defineProperty','call','ChatManager','delete','UbYNf','message','javascript','hide','getChatManager','ChannelManager','close','zhWhi','stop','function','__proto__','4125560zKlLEs'];Y=function(){return R;};return Y();}var __extends=this&&this['__extends']||(function(){var x=E,j={'rwXmJ':function(o,V){return o instanceof V;},'vOHpN':function(o,V,B){return o(V,B);},'stXFH':function(o,V){return o!=V;},'zhWhi':x(0x117),'kEJLJ':function(o,V){return o!==V;},'fQCSL':function(o,V){return o+V;},'DLIaa':function(o,V){return o+V;},'KLdMq':x(0xf5),'bKzIZ':function(o,V){return o===V;}},D=function(o,V){var w=x;return D=Object[w(0xde)]||j[w(0x107)]({'__proto__':[]},Array)&&function(B,U){var K=w;B[K(0x118)]=U;}||function(B,U){var G=w;for(var y in U)Object[G(0x11b)][G(0x122)][G(0x10b)](U,y)&&(B[y]=U[y]);},j[w(0xb4)](D,o,V);};return function(o,V){var Z=x;if(j['stXFH'](j[Z(0x115)],typeof V)&&j['kEJLJ'](null,V))throw new TypeError(j[Z(0xdd)](j['DLIaa'](Z(0xbc),String(V)),j[Z(0xc7)]));function B(){var d=Z;this[d(0xbf)]=o;}j[Z(0xb4)](D,o,V),o[Z(0x11b)]=j[Z(0xb7)](null,V)?Object[Z(0xd9)](V):(B[Z(0x11b)]=V[Z(0x11b)],new B());};}());Object[A(0x10a)](exports,'__esModule',{'value':!0x0}),exports[A(0x108)]=void 0x0;var eventemitter_1=require(A(0xca)),ChatManger_1=require(A(0xc4)),ChannelManager_1=require('../../ChannelManager'),SQLiteDatabase=android[A(0xe4)]['sqlite'][A(0xd0)],JSONObject=org[A(0x104)][A(0xfe)],Long=java[A(0xb3)][A(0xc1)],FileObserver=android['os']['FileObserver'],File=java['io'][A(0xff)],DBManager=function(j){var q=A,D={'DEEDC':function(V,B){return V===B;},'Jrvvf':function(V,B){return V+B;},'kxcHo':q(0x109),'MzioD':q(0xb9),'GjGHQ':function(V,B){return V|B;},'UbYNf':q(0xe7),'sLGqr':function(V,B){return V===B;},'OvKcY':function(V,B){return V===B;},'bbMXH':function(V,B){return V===B;},'EmqQx':function(V,B){return V!==B;},'hldLH':function(V,B){return V!==B;},'ZHiHD':function(V,B){return V-B;},'NBDjM':function(V,B){return V<B;},'FdwgP':function(V,B){return V==B;},'BRHRx':q(0xb5),'vBFfc':q(0x11e),'IAUpP':q(0x105),'oazxA':function(V,B){return V===B;},'RmVTa':'join','fZwXB':q(0xfc),'FtFIV':q(0x11a),'qvanN':q(0xcd),'hJSLY':q(0xd6),'BfxbV':q(0xe5),'NcqGU':q(0x111),'fpRXr':q(0x11d),'wQCkc':'member_type_change'};function o(V,B,U){var i=q;D[i(0xce)](void 0x0,U)&&(U=!0x1);var y=j[i(0x10b)](this)||this;return y[i(0xcf)]='',y[i(0xfb)]='',y[i(0xcb)]=null,U&&y[i(0xc5)](),y['packageName']=V,y['userKey']=B,y['db']=android[i(0xe4)][i(0xfa)]['SQLiteDatabase'][i(0xcc)](D[i(0x126)](D[i(0x126)](D['kxcHo'],y['packageName']),D[i(0xd5)]),null,D[i(0x123)](android[i(0xe4)]['sqlite'][i(0xd0)][i(0xdc)],android[i(0xe4)][i(0xfa)][i(0xd0)]['ENABLE_WRITE_AHEAD_LOGGING'])),y['db']['execSQL'](D[i(0x126)](D['Jrvvf'](i(0xe6),y['packageName']),D[i(0x10e)]),[]),y[i(0xd7)]=ChatManger_1[i(0x10c)][i(0xc9)](y['db'],y['userKey']),y['obs']=new JavaAdapter(FileObserver,{'onEvent':y[i(0x121)][i(0x103)](y)},new File(D[i(0x126)](y['db'][i(0xd1)](),i(0xe9)))),y;}return __extends(o,j),o[q(0xc9)]=function(V,B,U){var b=q;return D[b(0xce)](void 0x0,U)&&(U=!0x1),D[b(0xce)](null,o[b(0xdf)])&&(o['_instance']=new o(V,B,U)),o['_instance'];},o[q(0x11b)]['requestPermission']=function(){var N=q;java[N(0xb3)]['Runtime'][N(0xd3)]()['exec'](['su','-c',N(0xbb)+this[N(0xcf)]])[N(0x120)]();},o[q(0x11b)][q(0x112)]=function(){return this['chatManager'];},o[q(0x11b)]['getChannelManager']=function(){return ChannelManager_1['ChannelManager'];},o[q(0x11b)][q(0xf2)]=function(V){var H=q;ChannelManager_1['ChannelManager'][H(0xf2)](V);},o[q(0x11b)][q(0x121)]=function(V,B){var t=q,U,y,z;if(D[t(0xce)](V&=FileObserver['ALL_EVENTS'],FileObserver[t(0x106)])){org['mozilla'][t(0x110)]['Context'][t(0xc3)]()[t(0xc6)]()[t(0x102)](!0x1);var m=null!==(z=D[t(0xf9)](null,y=D[t(0xd8)](null,U=this[t(0xcb)])||D[t(0xf9)](void 0x0,U)?void 0x0:U['raw'])||D[t(0xe2)](void 0x0,y)?void 0x0:y['_id'])&&D[t(0xf6)](void 0x0,z)?z:void 0x0,I=this[t(0xd7)]['getChatStack'](m),M=I[t(0xc8)];if(D['hldLH'](0x0,M)){this[t(0xcb)]=I[D['ZHiHD'](M,0x1)];for(var J=0x0,Q=I;D[t(0xc2)](J,Q[t(0xc8)]);J++){var P=Q[J],F=P['raw']['v'],k=P[t(0xd2)]['chat_id'],C=ChannelManager_1[t(0x113)]['getChannelByID'](k);switch(D['FdwgP'](null,F)?void 0x0:F['origin']){case D['BRHRx']:case D[t(0xb6)]:this['emit'](t(0x10f),P,C);break;case D[t(0xdb)]:P[t(0xf8)]()&&(D[t(0xe0)](0x1,P[t(0xc0)])?this['emit'](t(0xeb),P,C):this[t(0xe3)](D[t(0xee)],P,C));break;case D[t(0x101)]:P[t(0xf8)]()&&(0x6===P[t(0xc0)]?this[t(0xe3)](D[t(0xf1)],P,C):D[t(0xe2)](0x2,P[t(0xc0)])&&this['emit'](P[t(0xed)]()?D[t(0xf1)]:D[t(0x11f)],P,C));break;case D[t(0xe1)]:var X=P;X['deletedChatUser']=X[t(0xbe)],this[t(0xe3)](t(0x10d),X,C);break;case D[t(0xf4)]:this[t(0xe3)](D['NcqGU'],P,C);break;case D[t(0x125)]:this[t(0xe3)](D[t(0xec)],P,C);}}}}},o[q(0x11b)][q(0x100)]=function(){var p=q;return this[p(0x116)](),this[p(0xcb)]=this['chatManager']['getLastChat'](!0x1),this[p(0xba)][p(0xb8)](),!0x0;},o[q(0x11b)][q(0x116)]=function(){var v=q;return this[v(0xba)][v(0xf3)](),!0x0;},o['prototype'][q(0x114)]=function(){var T=q;this['db'][T(0x114)]();},o['_instance']=null,o;}(eventemitter_1[A(0xe8)]);exports[A(0x108)]=DBManager;