'use strict';var I=T;(function(P,X){var z=T,j=P();while(!![]){try{var U=-parseInt(z(0x1b4))/0x1+parseInt(z(0x16f))/0x2+parseInt(z(0x183))/0x3*(-parseInt(z(0x1b8))/0x4)+-parseInt(z(0x195))/0x5+-parseInt(z(0x189))/0x6+-parseInt(z(0x17e))/0x7*(parseInt(z(0x168))/0x8)+parseInt(z(0x191))/0x9;if(U===X)break;else j['push'](j['shift']());}catch(C){j['push'](j['shift']());}}}(v,0x98681));var __extends=this&&this[I(0x1b1)]||(function(){var e=I,P={'pyFbp':function(j,U){return j instanceof U;},'OSiMf':function(j,U,C){return j(U,C);},'GjeQD':function(j,U){return j!=U;},'oBbnC':e(0x1cc),'OkYrG':function(j,U){return j+U;},'FVCVQ':e(0x174),'wCPvP':function(j,U){return j(U);},'aRbNN':e(0x1c2),'uYDAG':function(j,U){return j===U;}},X=function(j,U){var g=e;return X=Object[g(0x1a9)]||P[g(0x1b5)]({'__proto__':[]},Array)&&function(C,A){var a=g;C[a(0x18d)]=A;}||function(C,A){var i=g;for(var w in A)Object[i(0x1a4)][i(0x1ac)][i(0x1aa)](A,w)&&(C[w]=A[w]);},P[g(0x176)](X,j,U);};return function(j,U){var o=e;if(P[o(0x1c9)](P[o(0x1a7)],typeof U)&&null!==U)throw new TypeError(P['OkYrG'](P[o(0x19b)]+P[o(0x1b6)](String,U),P[o(0x162)]));function C(){var p=o;this[p(0x175)]=j;}P['OSiMf'](X,j,U),j['prototype']=P['uYDAG'](null,U)?Object[o(0x166)](U):(C[o(0x1a4)]=U[o(0x1a4)],new C());};}());function v(){var V=['KEpWl','length','raw','chat_id','onEvent','DELMEM','packageName','aRbNN','database','getCurrentContext','user','create','gXobG','56gCHSGm','sLqTE','rcVQB','DBManager','XrqxR','getInstance','_id','1388676hFWnrP','join','member_type_change','chatManager','javascript','Class\x20extends\x20value\x20','constructor','OSiMf','SLYci','OQPHp','leave','origin','invite','../../ChannelManager','IaUjO','1116997IBfhVm','OKQkF','NEWMEM','TBZaI','fWBpI','9969QAYGla','./emitter/eventemitter','deletedChatUser','CREATE_IF_NECESSARY','kick','SYNCMEMT','7317096CnNTGq','_instance','vYPLO','getRuntime','__proto__','DldXj','Context','SQLiteDatabase','36263808PZldTZ','userKey','JDplH','json','6174155rxUQEY','ALL_EVENTS','lang','bind','openDatabase','SYNCDLMSG','FVCVQ','getChatManager','-wal','DjFjR','rjxFW','SYNCREWR','YdFHt','MSG','Runtime','prototype','execSQL','../../ChatManger','oBbnC','CzoYi','setPrototypeOf','call','nKoZR','hasOwnProperty','getWrapFactory','/databases/KakaoTalk.db','FileObserver','__esModule','__extends','CzIva','hRkhN','32922uHKzWN','pyFbp','wCPvP','TzwZK','596opnYBh','/databases/KakaoTalk2.db`\x20as\x20DB2','feedType','stop','zGpwS','Attach\x20`/data/data/','Long','CHATINFO','defineProperty','ChatManager','\x20is\x20not\x20a\x20constructor\x20or\x20null','getPath','startWatching','lastChat','eSHvF','start','sqlite','GjeQD','emit','addChannel','function','MODIFY','close','isFeed','setJavaPrimitiveWrap','ENABLE_WRITE_AHEAD_LOGGING','File','ChannelManager','requestPermission'];v=function(){return V;};return v();}Object[I(0x1c0)](exports,I(0x1b0),{'value':!0x0}),exports[I(0x16b)]=void 0x0;function T(P,X){var j=v();return T=function(U,C){U=U-0x159;var A=j[U];return A;},T(P,X);}var eventemitter_1=require(I(0x184)),ChatManger_1=require(I(0x1a6)),ChannelManager_1=require(I(0x17c)),SQLiteDatabase=android[I(0x163)]['sqlite'][I(0x190)],JSONObject=org[I(0x194)]['JSONObject'],Long=java[I(0x197)][I(0x1be)],FileObserver=android['os'][I(0x1af)],File=java['io'][I(0x1d2)],DBManager=function(P){var t=I,X={'nKoZR':t(0x1ae),'hRkhN':function(U,C){return U+C;},'CzIva':function(U,C){return U+C;},'YdFHt':t(0x1bd),'XrqxR':t(0x1b9),'OKQkF':function(U,C){return U===C;},'CzoYi':function(U,C){return U+C;},'OQPHp':'chmod\x20-R\x20777\x20/data/data/','IJXGG':function(U,C){return U!==C;},'sLqTE':function(U,C){return U===C;},'eSHvF':function(U,C){return U===C;},'JDplH':function(U,C){return U===C;},'uqAAi':function(U,C){return U!==C;},'vYPLO':function(U,C){return U!==C;},'QdRIe':function(U,C){return U-C;},'zGpwS':function(U,C){return U<C;},'GrSbV':t(0x1a2),'TzwZK':t(0x1bf),'rcVQB':'message','DjFjR':function(U,C){return U===C;},'gXobG':t(0x17b),'TBZaI':t(0x170),'dGbkD':t(0x160),'rjxFW':function(U,C){return U===C;},'SLYci':t(0x187),'KEpWl':function(U,C){return U===C;},'FhPKW':t(0x179),'QbRds':t(0x19a),'ltiMR':'delete','IaUjO':'hide','fWBpI':t(0x188),'DldXj':t(0x171),'nsQQF':function(U,C,A){return U(C,A);}};function j(U,C,A){var E=t;void 0x0===A&&(A=!0x1);var w=P['call'](this)||this;return w[E(0x161)]='',w['userKey']='',w[E(0x1c5)]=null,A&&w['requestPermission'](),w['packageName']=U,w[E(0x192)]=C,w['db']=android['database'][E(0x1c8)][E(0x190)][E(0x199)]('/data/data/'+w[E(0x161)]+X[E(0x1ab)],null,android[E(0x163)][E(0x1c8)][E(0x190)][E(0x186)]|android[E(0x163)][E(0x1c8)][E(0x190)][E(0x1d1)]),w['db'][E(0x1a5)](X[E(0x1b3)](X[E(0x1b2)](X[E(0x1a1)],w['packageName']),X[E(0x16c)]),[]),w[E(0x172)]=ChatManger_1[E(0x1c1)]['getInstance'](w['db'],w[E(0x192)]),w['obs']=new JavaAdapter(FileObserver,{'onEvent':w[E(0x15f)][E(0x198)](w)},new File(X[E(0x1b2)](w['db'][E(0x1c3)](),E(0x19d)))),w;}return X['nsQQF'](__extends,j,P),j[t(0x16d)]=function(U,C,A){var b=t;return X[b(0x17f)](void 0x0,A)&&(A=!0x1),X[b(0x17f)](null,j[b(0x18a)])&&(j[b(0x18a)]=new j(U,C,A)),j[b(0x18a)];},j[t(0x1a4)][t(0x15a)]=function(){var q=t;java[q(0x197)][q(0x1a3)][q(0x18c)]()['exec'](['su','-c',X[q(0x1a8)](X[q(0x178)],this[q(0x161)])])['waitFor']();},j['prototype'][t(0x19c)]=function(){var x=t;return this[x(0x172)];},j[t(0x1a4)]['getChannelManager']=function(){return ChannelManager_1['ChannelManager'];},j['prototype'][t(0x1cb)]=function(U){var S=t;ChannelManager_1[S(0x159)][S(0x1cb)](U);},j[t(0x1a4)][t(0x15f)]=function(U,C){var s=t,A,w,N;if((U&=FileObserver[s(0x196)])===FileObserver[s(0x1cd)]){org['mozilla'][s(0x173)][s(0x18f)][s(0x164)]()[s(0x1ad)]()[s(0x1d0)](!0x1);var R=X['IJXGG'](null,N=X[s(0x17f)](null,w=X[s(0x169)](null,A=this['lastChat'])||X[s(0x1c6)](void 0x0,A)?void 0x0:A['raw'])||X[s(0x193)](void 0x0,w)?void 0x0:w[s(0x16e)])&&X['uqAAi'](void 0x0,N)?N:void 0x0,Z=this['chatManager']['getChatStack'](R),Q=Z[s(0x15c)];if(X[s(0x18b)](0x0,Q)){this[s(0x1c5)]=Z[X['QdRIe'](Q,0x1)];for(var F=0x0,J=Z;X[s(0x1bc)](F,J[s(0x15c)]);F++){var f=J[F],G=f[s(0x15d)]['v'],K=f[s(0x15d)][s(0x15e)],O=ChannelManager_1[s(0x159)]['getChannelByID'](K);switch(null==G?void 0x0:G[s(0x17a)]){case X['GrSbV']:case X[s(0x1b7)]:this['emit'](X[s(0x16a)],f,O);break;case s(0x180):f[s(0x1cf)]()&&(X[s(0x19e)](0x1,f[s(0x1ba)])?this[s(0x1ca)](X[s(0x167)],f,O):this[s(0x1ca)](X[s(0x181)],f,O));break;case X['dGbkD']:f['isFeed']()&&(X[s(0x19f)](0x6,f[s(0x1ba)])?this['emit'](X['SLYci'],f,O):X[s(0x15b)](0x2,f[s(0x1ba)])&&this[s(0x1ca)](f['isKicked']()?X[s(0x177)]:X['FhPKW'],f,O));break;case X['QbRds']:var B=f;B[s(0x185)]=B[s(0x165)],this[s(0x1ca)](X['ltiMR'],B,O);break;case s(0x1a0):this['emit'](X[s(0x17d)],f,O);break;case X[s(0x182)]:this[s(0x1ca)](X[s(0x18e)],f,O);}}}}},j[t(0x1a4)][t(0x1c7)]=function(){var d=t;return this[d(0x1bb)](),this[d(0x1c5)]=this[d(0x172)]['getLastChat'](!0x1),this['obs'][d(0x1c4)](),!0x0;},j[t(0x1a4)]['stop']=function(){return this['obs']['stopWatching'](),!0x0;},j[t(0x1a4)][t(0x1ce)]=function(){var L=t;this['db'][L(0x1ce)]();},j[t(0x18a)]=null,j;}(eventemitter_1['EventEmitter']);exports['DBManager']=DBManager;