'use strict';var h=F;(function(H,i){var o=F,K=H();while(!![]){try{var P=parseInt(o(0x154))/0x1*(parseInt(o(0x12c))/0x2)+-parseInt(o(0x124))/0x3*(-parseInt(o(0x156))/0x4)+-parseInt(o(0x11c))/0x5+-parseInt(o(0x159))/0x6+parseInt(o(0x181))/0x7*(parseInt(o(0x14e))/0x8)+parseInt(o(0x13f))/0x9+-parseInt(o(0x18f))/0xa;if(P===i)break;else K['push'](K['shift']());}catch(E){K['push'](K['shift']());}}}(g,0x6544a));function F(H,i){var K=g();return F=function(P,E){P=P-0x118;var R=K[P];return R;},F(H,i);}var __extends=this&&this[h(0x12b)]||(function(){var V=h,H={'kHrqc':function(K,P,E){return K(P,E);},'cpJKJ':V(0x187),'VHfYh':function(K,P){return K!==P;},'wsRDk':function(K,P){return K+P;},'sSmMi':'Class\x20extends\x20value\x20','yMdUo':function(K,P){return K(P);}},i=function(K,P){var A=V;return i=Object[A(0x163)]||{'__proto__':[]}instanceof Array&&function(E,R){var u=A;E[u(0x174)]=R;}||function(E,R){var c=A;for(var s in R)Object['prototype']['hasOwnProperty'][c(0x132)](R,s)&&(E[s]=R[s]);},H[A(0x155)](i,K,P);};return function(K,P){var a=V;if(H['cpJKJ']!=typeof P&&H[a(0x152)](null,P))throw new TypeError(H[a(0x18b)](H['wsRDk'](H[a(0x180)],H['yMdUo'](String,P)),a(0x144)));function E(){var p=a;this[p(0x15a)]=K;}H[a(0x155)](i,K,P),K[a(0x13c)]=null===P?Object[a(0x14c)](P):(E['prototype']=P[a(0x13c)],new E());};}());Object['defineProperty'](exports,h(0x12e),{'value':!0x0}),exports[h(0x189)]=void 0x0;var eventemitter_1=require(h(0x11f)),ChatManger_1=require('../../ChatManger'),ChannelSessionManager_1=require(h(0x143)),FileObserver=android['os'][h(0x14b)],File=java['io'][h(0x18e)],Context=android[h(0x177)][h(0x16b)],PowerManager=android['os'][h(0x17b)],pm=Api[h(0x158)]()[h(0x170)](Context[h(0x11d)]),wakeLock=pm[h(0x122)](PowerManager[h(0x13e)],'DBManager'),DBManager=function(H){var X=h,i={'PeQjD':function(P,E){return P+E;},'pVDvk':X(0x15f),'TpxzF':function(P,E){return P+E;},'ydBKr':X(0x153),'UFPPH':X(0x139),'AxpIK':function(P,E){return P+E;},'btcRD':X(0x12f),'GSThz':function(P,E){return P===E;},'nicPZ':function(P,E){return P===E;},'MMdie':function(P,E){return P+E;},'EsQsS':X(0x128),'TXWgj':function(P,E){return P!=E;},'CWByk':function(P,E){return P===E;},'IJjsj':function(P,E){return P<E;},'jItVW':function(P,E){return P!==E;},'XLqWd':function(P,E){return P==E;},'NScYL':X(0x179),'FEnrS':X(0x185),'OcJrg':'invite','AHJhY':X(0x15d),'QeiKe':X(0x188),'GTLUd':X(0x190),'tuGPu':X(0x134),'VyLFl':X(0x142),'lHfUe':'member_type_change','irjrR':function(P,E){return P+E;}};function K(P,E,R){var v=X;void 0x0===R&&(R=!0x1);var s=H[v(0x132)](this)||this;return s[v(0x168)]=!0x1,s['packageName']='',s[v(0x127)]='',s[v(0x169)]=void 0x0,R&&s[v(0x16a)](),s['packageName']=P,s[v(0x127)]=E,s['db']=android[v(0x125)][v(0x11a)][v(0x191)][v(0x18a)](i['PeQjD']('/data/data/',s['packageName'])+i[v(0x120)],null,android[v(0x125)][v(0x11a)]['SQLiteDatabase'][v(0x138)]|android['database'][v(0x11a)][v(0x191)][v(0x146)]),s['db'][v(0x133)](i['TpxzF'](i[v(0x12a)]+s[v(0x161)],i[v(0x157)]),[]),s[v(0x16f)]=ChatManger_1[v(0x183)]['getInstance'](s['db'],s[v(0x127)]),s[v(0x151)]=new JavaAdapter(FileObserver,{'onEvent':s[v(0x135)][v(0x18c)](s)},new File(i[v(0x171)](s['db']['getPath'](),i[v(0x140)]))),s;}return __extends(K,H),K['getInstance']=function(P,E,R){var G=X;return i[G(0x13d)](void 0x0,R)&&(R=!0x1),i[G(0x147)](null,K[G(0x136)])&&(K[G(0x136)]=new K(P,E,R)),K[G(0x136)];},K[X(0x13c)][X(0x16a)]=function(){var J=X;java[J(0x119)]['Runtime'][J(0x150)]()['exec']('su'),java[J(0x119)]['Runtime'][J(0x150)]()[J(0x167)](['su','-c',i[J(0x11b)](i['EsQsS'],this[J(0x161)])])['waitFor']();},K['prototype'][X(0x173)]=function(){var y=X;return this[y(0x16f)];},K['prototype'][X(0x145)]=function(){var x=X;return ChannelSessionManager_1[x(0x16e)];},K['prototype'][X(0x16d)]=function(P){var S=X;ChannelSessionManager_1[S(0x16e)][S(0x16d)](P);},K['prototype'][X(0x135)]=function(P,E){var n=X;if(i[n(0x118)](0x0,P&FileObserver[n(0x178)])){var R=org[n(0x131)]['javascript'][n(0x16b)][n(0x17f)]();R[n(0x14d)]()['setJavaPrimitiveWrap'](!0x1),R[n(0x15b)]()['setLanguageVersion'](R['VERSION_ES6']);try{var q=this['_lastID'],Y=this[n(0x16f)][n(0x13a)](q),Q=Y[n(0x17d)];if(i[n(0x149)](0x0,Q))return;this['_lastID']=Y[Q-0x1][n(0x141)]['_id'];for(var l=0x0,k=Y;i[n(0x11e)](l,k['length']);l++){var I=k[l];if(i[n(0x126)](I[n(0x141)][n(0x15e)],this[n(0x127)])){var L=I[n(0x141)]['v'],d=I['channel'];switch(i[n(0x12d)](null,L)?void 0x0:L[n(0x16c)]){case'MSG':case i[n(0x14a)]:this[n(0x162)](i['FEnrS'],I,d);break;case'NEWMEM':I[n(0x182)]()&&(i[n(0x147)](0x1,I[n(0x166)])?this['emit'](i[n(0x129)],I,d):this['emit'](n(0x184),I,d));break;case i[n(0x13b)]:I[n(0x182)]()&&(i[n(0x147)](0x6,I[n(0x166)])?this[n(0x162)](n(0x137),I,d):0x2===I[n(0x166)]&&this[n(0x162)]('leave',I,d));break;case i[n(0x121)]:this['emit'](n(0x148),I,d);break;case i[n(0x172)]:this['emit'](i[n(0x176)],I,d);break;case i[n(0x186)]:this[n(0x162)](i[n(0x18d)],I,d);}}}}catch(Z){Log['e'](i['PeQjD'](i[n(0x165)](i[n(0x130)](Z[n(0x175)],'\x0a'),Z[n(0x185)]),'\x0a')+Z[n(0x14f)]);}}},K[X(0x13c)]['start']=function(){var b=X;return this[b(0x160)](),this[b(0x169)]=this['chatManager'][b(0x17a)](),this[b(0x151)]['startWatching'](),!0x0;},K[X(0x13c)][X(0x160)]=function(){var j=X;return this[j(0x151)][j(0x164)](),!0x0;},K[X(0x13c)]['close']=function(){var C=X;this['db'][C(0x17e)]();},K[X(0x13c)]['setWakeLock']=function(P){var z=X;P&&!this[z(0x168)]?(this[z(0x168)]=!0x0,wakeLock[z(0x15c)]()):!P&&this[z(0x168)]&&(this[z(0x168)]=!0x1,wakeLock[z(0x123)]());},K[X(0x136)]=null,K;}(eventemitter_1[h(0x17c)]);function g(){var r=['_lastID','requestPermission','Context','origin','addChannel','ChannelSessionManager','chatManager','getSystemService','AxpIK','GTLUd','getChatManager','__proto__','lineNumber','tuGPu','content','MODIFY','CHATINFO','getLastID','PowerManager','EventEmitter','length','close','getCurrentContext','sSmMi','436856QYqxDe','isFeed','ChatManager','join','message','VyLFl','function','SYNCDLMSG','DBManager','openDatabase','wsRDk','bind','lHfUe','File','13799960tnRtNz','SYNCREWR','SQLiteDatabase','TXWgj','lang','sqlite','MMdie','1790945zRfnTv','POWER_SERVICE','IJjsj','./emitter/eventemitter','pVDvk','QeiKe','newWakeLock','release','1128pbqKZV','database','jItVW','userKey','chmod\x20-R\x20777\x20/data/data/','OcJrg','ydBKr','__extends','1572JZBZoM','XLqWd','__esModule','-wal','irjrR','mozilla','call','execSQL','hide','onEvent','_instance','kick','CREATE_IF_NECESSARY','/databases/KakaoTalk2.db`\x20as\x20DB2','getChatStack','AHJhY','prototype','GSThz','PARTIAL_WAKE_LOCK','4851333qKijUg','btcRD','raw','SYNCMEMT','../../ChannelSessionManager','\x20is\x20not\x20a\x20constructor\x20or\x20null','getChannelManager','ENABLE_WRITE_AHEAD_LOGGING','nicPZ','delete','CWByk','NScYL','FileObserver','create','getWrapFactory','88uImDrc','stack','getRuntime','obs','VHfYh','Attach\x20`/data/data/','679ZKqGmq','kHrqc','7324qWktTe','UFPPH','getContext','1768176RDaaVX','constructor','enter','acquire','DELMEM','user_id','/databases/KakaoTalk.db','stop','packageName','emit','setPrototypeOf','stopWatching','PeQjD','feedType','exec','isWakeLock'];g=function(){return r;};return g();}exports[h(0x189)]=DBManager;