'use strict';var m=c;function p(){var M=['\x20is\x20not\x20a\x20constructor\x20or\x20null','NVxwf','getInstance','getChatManager','ENABLE_WRITE_AHEAD_LOGGING','isFeed','RcmeS','lastChat','NHLKt','102564pDNTDi','652496ssarPG','getCurrentContext','setJavaPrimitiveWrap','execSQL','hide','EENzu','hkrPp','create','-wal','WRsUQ','yjqAE','pQTXf','MODIFY','javascript','function','tUkSe','obs','bind','exec','DELMEM','65049SWbWwC','wlwwi','isKicked','__proto__','NEVwW','Class\x20extends\x20value\x20','feedType','getPath','190WTZnTW','lang','JSONObject','15413519sZcxjr','invite','ZONTi','10WzMcuA','hkNmg','addChannel','SYNCMEMT','call','member_type_change','rdNSe','deletedChatUser','128iJkcqF','SQLiteDatabase','getChannelManager','YuVQq','14508AgfDcd','ChannelManager','prototype','/data/data/','mozilla','hDpdf','dXIDf','openDatabase','yNgbW','SYNCREWR','close','chatManager','_instance','TaVcN','WKHjP','waitFor','oJQhc','636420bDMCjV','__extends','start','EventEmitter','user','File','stop','aULOL','sqlite','packageName','setPrototypeOf','length','559496HqsQuh','delete','Context','Attach\x20`/data/data/','defineProperty','aHUQY','userKey','__esModule','cPIxv','chmod\x20-R\x20777\x20/data/data/','/databases/KakaoTalk.db','emit','getRuntime','chat_id','hasOwnProperty','getChannelByID','origin','DBManager','MSG','./emitter/eventemitter','leave','requestPermission','ONGSS','ChatManager','SYNCDLMSG','ALL_EVENTS','IARqz','808bqxdSE','PwdKL','constructor','raw','NEWMEM','VCzwC','mkUrh','vvJkx','FileObserver','database','/databases/KakaoTalk2.db`\x20as\x20DB2'];p=function(){return M;};return p();}(function(t,B){var e=c,i=t();while(!![]){try{var C=-parseInt(e(0xdb))/0x1+-parseInt(e(0x11a))/0x2+-parseInt(e(0xef))/0x3*(-parseInt(e(0x105))/0x4)+-parseInt(e(0xf7))/0x5*(parseInt(e(0xda))/0x6)+-parseInt(e(0x126))/0x7+parseInt(e(0xc6))/0x8*(parseInt(e(0x109))/0x9)+parseInt(e(0xfd))/0xa*(parseInt(e(0xfa))/0xb);if(C===B)break;else i['push'](i['shift']());}catch(R){i['push'](i['shift']());}}}(p,0x8827b));function c(t,B){var i=p();return c=function(C,R){C=C-0xba;var N=i[C];return N;},c(t,B);}var __extends=this&&this[m(0x11b)]||(function(){var j=m,t={'dXIDf':function(i,C){return i instanceof C;},'PPeCz':function(i,C,R){return i(C,R);},'ONGSS':function(i,C){return i!=C;},'wlwwi':j(0xe9),'WRsUQ':function(i,C){return i!==C;},'yNgbW':function(i,C){return i+C;},'aULOL':function(i,C){return i+C;},'aHUQY':j(0xf4),'IARqz':j(0xd1)},B=function(i,C){var U=j;return B=Object[U(0x124)]||t[U(0x10f)]({'__proto__':[]},Array)&&function(R,N){var x=U;R[x(0xf2)]=N;}||function(R,N){var X=U;for(var H in N)Object[X(0x10b)][X(0x134)][X(0x101)](N,H)&&(R[H]=N[H]);},t['PPeCz'](B,i,C);};return function(i,C){var Z=j;if(t[Z(0xc1)](t[Z(0xf0)],typeof C)&&t[Z(0xe4)](null,C))throw new TypeError(t[Z(0x111)](t[Z(0x121)](t[Z(0x12b)],String(C)),t[Z(0xc5)]));function R(){var D=Z;this[D(0xc8)]=i;}B(i,C),i[Z(0x10b)]=null===C?Object[Z(0xe2)](C):(R[Z(0x10b)]=C['prototype'],new R());};}());Object[m(0x12a)](exports,m(0x12d),{'value':!0x0}),exports[m(0xbc)]=void 0x0;var eventemitter_1=require(m(0xbe)),ChatManger_1=require('../../ChatManger'),ChannelManager_1=require('../../ChannelManager'),SQLiteDatabase=android[m(0xcf)][m(0x122)][m(0x106)],JSONObject=org['json'][m(0xf9)],Long=java[m(0xf8)]['Long'],FileObserver=android['os'][m(0xce)],File=java['io'][m(0x11f)],DBManager=function(B){var u=m,i={'vvJkx':function(R,N){return R+N;},'tUkSe':u(0x130),'YuVQq':function(R,N){return R|N;},'yjqAE':u(0x129),'PwdKL':function(R,N){return R+N;},'ODkYv':u(0xe3),'WKHjP':function(R,N){return R===N;},'ofovK':u(0x12f),'hkrPp':function(R,N){return R===N;},'EENzu':function(R,N){return R!==N;},'hkNmg':function(R,N){return R===N;},'mkUrh':function(R,N){return R===N;},'ZONTi':function(R,N){return R-N;},'VCzwC':function(R,N){return R<N;},'NHLKt':function(R,N){return R==N;},'NEVwW':u(0xbd),'rdNSe':'CHATINFO','oJQhc':'message','RcmeS':u(0xca),'crNaV':u(0xfb),'lqPqD':'join','YItWd':'kick','ccgpZ':u(0xbf),'hDpdf':u(0xc3),'NVxwf':u(0x127),'cPIxv':u(0x112),'pQTXf':u(0xdf),'zFNLm':u(0x100),'TaVcN':u(0x102),'OKAdx':function(R,N,H){return R(N,H);}};function C(R,N,H){var r=u;void 0x0===H&&(H=!0x1);var Q=B['call'](this)||this;return Q[r(0x123)]='',Q['userKey']='',Q[r(0xd8)]=null,H&&Q[r(0xc0)](),Q[r(0x123)]=R,Q[r(0x12c)]=N,Q['db']=android[r(0xcf)][r(0x122)][r(0x106)][r(0x110)](i[r(0xcd)](r(0x10c),Q['packageName'])+i[r(0xea)],null,i[r(0x108)](android[r(0xcf)][r(0x122)][r(0x106)]['CREATE_IF_NECESSARY'],android[r(0xcf)][r(0x122)]['SQLiteDatabase'][r(0xd5)])),Q['db'][r(0xde)](i[r(0xcd)](i[r(0xe5)],Q[r(0x123)])+r(0xd0),[]),Q[r(0x114)]=ChatManger_1[r(0xc2)][r(0xd3)](Q['db'],Q['userKey']),Q[r(0xeb)]=new JavaAdapter(FileObserver,{'onEvent':Q['onEvent'][r(0xec)](Q)},new File(i[r(0xc7)](Q['db'][r(0xf6)](),i['ODkYv']))),Q;}return i['OKAdx'](__extends,C,B),C[u(0xd3)]=function(R,N,H){var G=u;return i[G(0x117)](void 0x0,H)&&(H=!0x1),null===C['_instance']&&(C[G(0x115)]=new C(R,N,H)),C[G(0x115)];},C['prototype'][u(0xc0)]=function(){var W=u;java[W(0xf8)]['Runtime'][W(0x132)]()[W(0xed)](['su','-c',i[W(0xcd)](i['ofovK'],this[W(0x123)])])[W(0x118)]();},C[u(0x10b)][u(0xd4)]=function(){var d=u;return this[d(0x114)];},C[u(0x10b)][u(0x107)]=function(){var T=u;return ChannelManager_1[T(0x10a)];},C[u(0x10b)][u(0xff)]=function(R){var h=u;ChannelManager_1['ChannelManager'][h(0xff)](R);},C[u(0x10b)]['onEvent']=function(R,N){var S=u,H,Q,Y;if(i[S(0xe1)](R&=FileObserver[S(0xc4)],FileObserver[S(0xe7)])){org[S(0x10d)][S(0xe8)][S(0x128)][S(0xdc)]()['getWrapFactory']()[S(0xdd)](!0x1);var K=i[S(0xe0)](null,Y=i[S(0xfe)](null,Q=i['WKHjP'](null,H=this[S(0xd8)])||void 0x0===H?void 0x0:H['raw'])||i[S(0xcc)](void 0x0,Q)?void 0x0:Q['_id'])&&i[S(0xe0)](void 0x0,Y)?Y:void 0x0,L=this[S(0x114)]['getChatStack'](K),V=L[S(0x125)];if(0x0!==V){this['lastChat']=L[i[S(0xfc)](V,0x1)];for(var y=0x0,O=L;i[S(0xcb)](y,O[S(0x125)]);y++){var q=O[y],k=q[S(0xc9)]['v'],w=q['raw'][S(0x133)],b=ChannelManager_1[S(0x10a)][S(0xba)](w);switch(i[S(0xd9)](null,k)?void 0x0:k[S(0xbb)]){case i[S(0xf3)]:case i[S(0x103)]:this[S(0x131)](i[S(0x119)],q,b);break;case i[S(0xd7)]:q[S(0xd6)]()&&(0x1===q[S(0xf5)]?this['emit'](i['crNaV'],q,b):this[S(0x131)](i['lqPqD'],q,b));break;case S(0xee):q[S(0xd6)]()&&(0x6===q[S(0xf5)]?this[S(0x131)]('kick',q,b):i[S(0xfe)](0x2,q[S(0xf5)])&&this[S(0x131)](q[S(0xf1)]()?i['YItWd']:i['ccgpZ'],q,b));break;case i[S(0x10e)]:var z=q;z[S(0x104)]=z[S(0x11e)],this[S(0x131)](i[S(0xd2)],z,b);break;case i[S(0x12e)]:this['emit'](i[S(0xe6)],q,b);break;case i['zFNLm']:this[S(0x131)](i[S(0x116)],q,b);}}}}},C[u(0x10b)][u(0x11c)]=function(){var I=u;return this[I(0x120)](),this['lastChat']=this[I(0x114)]['getLastChat'](!0x1),this['obs']['startWatching'](),!0x0;},C['prototype'][u(0x120)]=function(){var f=u;return this[f(0xeb)]['stopWatching'](),!0x0;},C[u(0x10b)]['close']=function(){var l=u;this['db'][l(0x113)]();},C[u(0x115)]=null,C;}(eventemitter_1[m(0x11d)]);exports[m(0xbc)]=DBManager;