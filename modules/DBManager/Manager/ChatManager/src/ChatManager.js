'use strict';function e(){var w=['concurrent','23397510sOuadw','DB2.friends','userKey','3279196IkOHrQ','__importDefault','getInstance','parseOnlyNum','\x20WHERE\x20c__id\x20>\x20?\x20AND\x20c__id\x20<=\x20?\x20ORDER\x20BY\x20c__id','3764060tQNSuO','dTnwD','OYxrM','join','PemLb','YtuNs','chat_id','USER_COLUMN','util','../../../utils','FIELD_TYPE_FLOAT','Mapper','prepare','\x20FROM\x20DB2.friends\x20WHERE\x20id\x20=\x20?','cursorToUserObject','pgUYJ','ALL_JOIN_COLUMN','IWPDb','FIELD_TYPE_NULL','../../../sql-bricks','136pUfzJY','SELECT\x20_id\x20\x20FROM\x20chat_logs\x20ORDER\x20BY\x20_id\x20DESC\x20LIMIT\x201','cursorToUser','YyPvp','MAX_SAFE_INTEGER','NTZfQ','BigJSON','4464801HyEuNc','close','text','CHAT_USER_JOIN_COLUMN','get','../decrypt','setUserKey','11KxkgtG','default','IXvSd','fjDNT','WZFbb','0|1|3|4|2','EHhdR','MhuES','../../../utils/mapper/column_const','getColumnName','DAtXE','\x20WHERE\x20c_id\x20<\x20?\x20AND\x20c_chat_id\x20=\x20?\x20ORDER\x20BY\x20c_id\x20\x20DESC\x20LIMIT\x201\x20OFFSET\x20?','WHhdY','MRoPu','Kgctf','getLong','moveToNext','8722266IBIGPO','SELECT\x20','split','ChatManager','_getMinIdsToUsers','142772fCsnId','__esModule','reduce','getReadMember','Cursor','prototype','channel','getNextChat','SELECT\x20active_member_ids\x20FROM\x20chat_rooms\x20WHERE\x20id\x20=\x20?','RtHgB','rWvwV','1547257svvNoB','wCfyj','supplyAsync','ccAzh','getChatStack','shutdown','getLastID','Hxeou','\x20WHERE\x20c_id\x20>\x20?\x20AND\x20c_chat_id\x20=\x20?\x20ORDER\x20BY\x20c_id\x20\x20LIMIT\x201\x20OFFSET\x20?','FIELD_TYPE_INTEGER','moveToLast','length','from','GoiPT','2Wiefbd','rawQuery','where','jKdsG','cursorToChatUser','raw','EvdZt','cursorToAll','_instance','QiQIB','RfUzZ','CHAT_USER_COLUMN','0|3|5|1|2|4','BRjIH','amQzk','KtEDF','hIRiO','database','gVHnN','egFzf','mEhrl','exVDo','rMQvD','getPrevChat','VcAHz','아직\x20없음','moveToFirst','values','tIhoQ','\x20\x20WHERE\x20c_id\x20=\x20?','getString','../../../BigJSON','getOneUserByID','2|5|0|1|3|4','CompletableFuture','SELECT\x20active_member_ids,watermarks\x20from\x20chat_rooms\x20WHERE\x20id\x20=\x20?','select','koDbU','YoUMH','push','name','filter','getMultipleUsersByIDs','3QDWyHP','2|0|3|1|4','IoYoe'];e=function(){return w;};return e();}var L=h;(function(s,x){var y=h,I=s();while(!![]){try{var X=parseInt(y(0x1c9))/0x1*(-parseInt(y(0x1d7))/0x2)+-parseInt(y(0x202))/0x3*(parseInt(y(0x209))/0x4)+-parseInt(y(0x20e))/0x5+parseInt(y(0x1b9))/0x6+parseInt(y(0x1be))/0x7*(-parseInt(y(0x222))/0x8)+parseInt(y(0x1a1))/0x9+-parseInt(y(0x206))/0xa*(-parseInt(y(0x1a8))/0xb);if(X===x)break;else I['push'](I['shift']());}catch(F){I['push'](I['shift']());}}}(e,0xc8ea7));function h(s,x){var I=e();return h=function(X,F){X=X-0x19c;var c=I[X];return c;},h(s,x);}var __importDefault=this&&this[L(0x20a)]||function(s){var z=L;return s&&s[z(0x1bf)]?s:{'default':s};};Object['defineProperty'](exports,L(0x1bf),{'value':!0x0}),exports[L(0x1bc)]=void 0x0;var BigJSON_1=require(L(0x1f6)),sql_bricks_1=__importDefault(require(L(0x221))),decrypt_1=__importDefault(require(L(0x1a6))),utils_1=require(L(0x217)),column_const_1=require(L(0x1b0)),parseOnlyNum=BigJSON_1[L(0x1a0)][L(0x20c)],CompletableFuture=java[L(0x216)]['concurrent'][L(0x1f9)],Executors=java[L(0x216)][L(0x205)]['Executors'],groupBy=function(s,x){var D=L;return s[D(0x1c0)](function(I,X){return I[X[x]]=X,I;},{});},ChatManager=exports[L(0x1bc)]=(function(){var k=L,s={'YoUMH':function(I,X){return I===X;},'KtEDF':function(I,X){return I===X;},'PemLb':function(I,X){return I===X;},'MhuES':function(I,X){return I===X;},'ccAzh':k(0x1f0),'wCfyj':function(I,X){return I+X;},'YtuNs':function(I,X){return I+X;},'tIhoQ':k(0x1f4),'QiQIB':function(I,X){return I(X);},'dTnwD':function(I,X){return I(X);},'VcAHz':k(0x203),'hIRiO':k(0x1fa),'CKjoI':function(I,X){return I(X);},'BRjIH':function(I,X){return I(X);},'rMQvD':function(I,X){return I>=X;},'Kgctf':function(I,X){return I===X;},'egFzf':function(I,X){return I+X;},'EvdZt':k(0x1ba),'gVHnN':k(0x1b3),'fjDNT':function(I,X){return I-X;},'WHhdY':k(0x1f8),'MRoPu':function(I,X){return I-X;},'IXvSd':function(I,X){return I===X;},'koDbU':function(I,X){return I<X;},'IoYoe':k(0x1ad),'DAtXE':function(I,X){return I===X;},'IWPDb':function(I,X){return I===X;},'GoiPT':function(I,X){return I||X;},'UGOjA':function(I,X){return I(X);},'Hxeou':function(I,X){return I+X;},'DrGeH':k(0x20d),'pgUYJ':k(0x223),'jKdsG':k(0x21b),'amQzk':function(I,X){return I===X;},'OYxrM':k(0x207),'rWvwV':function(I,X){return I<X;},'WZFbb':function(I,X){return I<X;},'mEhrl':function(I,X,F){return I(X,F);},'pGurA':k(0x1ff),'exVDo':k(0x1c6),'NYxBu':function(I,X){return I!=X;},'bAgog':function(I,X){return I<X;},'YyPvp':function(I,X){return I(X);},'EHhdR':function(I,X){return I(X);},'RfUzZ':function(I,X){return I>X;},'RtHgB':function(I,X){return I(X);}};function x(I,X){var H=k;s[H(0x1fd)](void 0x0,X)&&(X=''),this['db']=I,this[H(0x208)]=X,utils_1['Mapper'][H(0x1a7)](this[H(0x208)]);}return x[k(0x20b)]=function(I,X){var a=k;if(s[a(0x1e6)](void 0x0,I)&&(I=null),void 0x0===X&&(X=''),''===X||s[a(0x212)](null,I)){if(s['MhuES'](null,x['_instance']))throw new Error(s[a(0x1cc)]);return x[a(0x1df)];}return s[a(0x212)](null,x['_instance'])&&(x[a(0x1df)]=new x(I,X)),x['_instance'];},x[k(0x1c3)]['getChatUserByLogID']=function(I){var O=k,X=s[O(0x1ca)](s['YtuNs'](O(0x1ba),column_const_1[O(0x1e2)])+column_const_1[O(0x1a4)],s[O(0x1f3)]),F=this['db'][O(0x1d8)](X,[I]);if(!F[O(0x1f1)]())return F[O(0x1a2)](),null;var c=utils_1['Mapper'][O(0x1db)](F,this[O(0x208)]);return F['close'](),c;},x['prototype']['getUnreadMember']=function(I,X){var o=k,F=this['db'][o(0x1d8)](o(0x1fa),[I]);if(!F[o(0x1f1)]())return F[o(0x1a2)](),[];var c=s[o(0x1e0)](parseOnlyNum,s[o(0x1e0)](String,F['getString'](0x0))),T=s[o(0x20f)](parseOnlyNum,s[o(0x20f)](String,F['getString'](0x1)));return c=c[o(0x200)](function(g,n){if(T[n]<X)return g;}),this[o(0x201)](c);},x[k(0x1c3)][k(0x1c1)]=function(I,X){var i=k,F=s[i(0x1ef)][i(0x1bb)]('|'),c=0x0;while(!![]){switch(F[c++]){case'0':var T=this['db'][i(0x1d8)](s[i(0x1e7)],[I]);continue;case'1':var g=s['CKjoI'](parseOnlyNum,s[i(0x1e4)](String,T[i(0x1f5)](0x0))),n=s[i(0x1e0)](parseOnlyNum,s['CKjoI'](String,T[i(0x1f5)](0x1)));continue;case'2':var d={'NTZfQ':function(Z,E){var f=i;return s[f(0x1ed)](Z,E);}};continue;case'3':if(!T[i(0x1f1)]())return T[i(0x1a2)](),[];continue;case'4':return g=g[i(0x200)](function(Z,E){var S=i;if(d[S(0x19f)](n[E],X))return Z;}),this[i(0x201)](g);}break;}},x[k(0x1c3)][k(0x1ee)]=function(I,X){var r=k,F=r(0x1e3)[r(0x1bb)]('|'),c=0x0;while(!![]){switch(F[c++]){case'0':if(s[r(0x1b6)](void 0x0,X)&&(X=0x1),s[r(0x1af)](0x0,X))return I;continue;case'1':if(!n[r(0x1f1)]())return n['close'](),null;continue;case'2':var T=utils_1[r(0x219)][r(0x1db)](n,this[r(0x208)]);continue;case'3':if(X<0x0)return this[r(0x1c5)](I,-X);continue;case'4':return T[r(0x1c4)]=I[r(0x1c4)],n[r(0x1a2)](),T;case'5':var g=s[r(0x1ca)](s[r(0x213)](s['egFzf'](s[r(0x1dd)],column_const_1['CHAT_USER_COLUMN']),column_const_1['CHAT_USER_JOIN_COLUMN']),s[r(0x1e9)]),n=this['db'][r(0x1d8)](g,[I[r(0x1dc)]['id'],I['raw'][r(0x214)],String(s[r(0x1ab)](X,0x1))]);continue;}break;}},x[k(0x1c3)][k(0x1c5)]=function(I,X){var U=k,F=s[U(0x1b4)][U(0x1bb)]('|'),c=0x0;while(!![]){switch(F[c++]){case'0':var T=s['wCfyj'](s[U(0x1ca)](s[U(0x1ca)](s['EvdZt'],column_const_1['CHAT_USER_COLUMN']),column_const_1[U(0x1a4)]),U(0x1d1)),g=this['db'][U(0x1d8)](T,[I['raw']['id'],I[U(0x1dc)]['chat_id'],String(s[U(0x1b5)](X,0x1))]);continue;case'1':if(!g[U(0x1f1)]())return g[U(0x1a2)](),null;continue;case'2':if(s[U(0x1e6)](void 0x0,X)&&(X=0x1),s[U(0x1aa)](0x0,X))return I;continue;case'3':var n=utils_1[U(0x219)][U(0x1db)](g,this[U(0x208)]);continue;case'4':return n[U(0x1c4)]=I[U(0x1c4)],g[U(0x1a2)](),n;case'5':if(s[U(0x1fc)](X,0x0))return this['getPrevChat'](I,-X);continue;}break;}},x[k(0x1c3)][k(0x1cd)]=function(I,X){var l=k,F=s[l(0x204)]['split']('|'),c=0x0;while(!![]){switch(F[c++]){case'0':s[l(0x1b2)](void 0x0,I)&&(I=void 0x0),s[l(0x21f)](void 0x0,X)&&(X=void 0x0),I=s[l(0x1d6)](I,'0'),X=X||s['UGOjA'](String,Number[l(0x19e)]);continue;case'1':var T=s[l(0x1d0)](s['Hxeou'](l(0x1ba),column_const_1['ALL_COLUMN'])+column_const_1[l(0x21e)],s['DrGeH']),g=this['db']['rawQuery'](T,[I,X]),n=[];continue;case'2':return g[l(0x1a2)](),n;case'3':if(!g[l(0x1f1)]())return g[l(0x1a2)](),[];continue;case'4':do{var d=utils_1[l(0x219)][l(0x1de)](g,this[l(0x208)]);n[l(0x1fe)](d);}while(g[l(0x1b8)]());continue;}break;}},x['prototype'][k(0x1cf)]=function(){var Q=k,I=this['db'][Q(0x1d8)](s[Q(0x21d)],[]);if(I[Q(0x1f1)]()){var X=s['UGOjA'](String,I[Q(0x1f5)](0x0));return I[Q(0x1a2)](),X;}I[Q(0x1a2)]();},x[k(0x1c3)][k(0x1f7)]=function(I){var A=k,X=s[A(0x1ea)](s[A(0x1dd)],column_const_1['USER_COLUMN'])+s[A(0x1da)],F=this['db'][A(0x1d8)](X,[I]);if(!F['moveToLast']())return F[A(0x1a2)](),null;var c=utils_1[A(0x219)][A(0x19c)](F,this[A(0x208)]);return F[A(0x1a2)](),c;},x[k(0x1c3)][k(0x201)]=function(I,X){var m=k,F=this;if(s[m(0x1e5)](void 0x0,X)&&(X=!0x1),I[m(0x1d4)]<=0xf)return this[m(0x1bd)](I,X);var T=[],g=sql_bricks_1[m(0x1a9)][m(0x1fb)](column_const_1[m(0x215)])['from'](s[m(0x210)])[m(0x1d9)]({'id[^]':I})['prepare'](),Z=this['db'][m(0x1d8)](g['text'],g[m(0x1f2)]);if(!Z[m(0x1f1)]())return Z['close'](),X?{}:[];var E=[];do{E[m(0x1fe)](utils_1[m(0x219)][m(0x21c)](Z));}while(Z[m(0x1b8)]());Z[m(0x1a2)]();for(var N=[],K=Executors['newFixedThreadPool'](0x4),Y=function(b){var M=m,j=CompletableFuture[M(0x1cb)](function(){var v=M;return utils_1[v(0x219)]['userMapper'](b,F['userKey']);},K);N[M(0x1fe)](j);},G=0x0,C=E;s[m(0x1c8)](G,C['length']);G++){s['UGOjA'](Y,q=C[G]);}for(var q=0x0;s[m(0x1ac)](q,N['length']);q++){var W=N[q][m(0x1a5)]();T['push'](W);}return K[m(0x1ce)](),X?s[m(0x1eb)](groupBy,T,'id'):T;},x['prototype']['getDisplayName']=function(I){var R=k,X=sql_bricks_1[R(0x1a9)][R(0x1fb)](s['pGurA'])[R(0x1d5)](R(0x207))[R(0x1d9)]({'id[^]':I})['prepare'](),F=this['db']['rawQuery'](X[R(0x1a3)],X[R(0x1f2)]),c=[];if(!F[R(0x1f1)]())return F[R(0x1a2)](),'';do{c[R(0x1fe)]((0x0,decrypt_1['default'])(this[R(0x208)],0x1e,F[R(0x1f5)](0x0)));}while(F[R(0x1b8)]());return F[R(0x1a2)](),c[R(0x211)](',\x20');},x['prototype']['_getMinIdsToUsers']=function(I,X){var P=k;s[P(0x1e6)](void 0x0,X)&&(X=!0x1);var F=[],c=sql_bricks_1['default'][P(0x1fb)](column_const_1[P(0x215)])[P(0x1d5)](s[P(0x210)])[P(0x1d9)]({'id[^]':I})[P(0x21a)](),T=this['db'][P(0x1d8)](c[P(0x1a3)],c[P(0x1f2)]);if(!T[P(0x1f1)]())return T[P(0x1a2)](),X?{}:[];do{F[P(0x1fe)](utils_1[P(0x219)][P(0x19c)](T,this[P(0x208)]));}while(T[P(0x1b8)]());return T['close'](),F;},x[k(0x1c3)]['getMembersByRoomID']=function(I){var V=k,X=this['db'][V(0x1d8)](s[V(0x1ec)],[I]);if(!X[V(0x1d3)]())return X['close'](),null;var F=parseOnlyNum(s['QiQIB'](String,X[V(0x1f5)](0x0)));return X[V(0x1a2)](),this[V(0x201)](F);},x['prototype'][k(0x1d8)]=function(I,X){var B=k,F=[];try{var c=this['db'][B(0x1d8)](I,s['NYxBu'](null,X)?X:[]);if(!c[B(0x1f1)]())return c[B(0x1a2)](),[];var T=+c['getColumnCount']();do{for(var g={},d=0x0;s['bAgog'](d,T);d++){var Z=s[B(0x19d)](String,c[B(0x1b1)](d));switch(c['getType'](d)){case android['database'][B(0x1c2)][B(0x220)]:g[Z]=null;break;case android[B(0x1e8)][B(0x1c2)][B(0x218)]:g[Z]=Number(c['getFloat'](d));break;case android[B(0x1e8)][B(0x1c2)][B(0x1d2)]:var E=s[B(0x1ae)](Number,c[B(0x1b7)](d));s[B(0x1e1)](E,Number[B(0x19e)])&&(E=s[B(0x1c7)](String,E)),g[Z]=E;break;default:g[Z]=s[B(0x1e0)](String,c['getString'](d));}}F[B(0x1fe)](g);}while(c[B(0x1b8)]());return c[B(0x1a2)](),F;}catch(N){return F;}},x[k(0x1df)]=null,x;}());