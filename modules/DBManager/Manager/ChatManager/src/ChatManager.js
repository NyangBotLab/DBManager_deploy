'use strict';function L(){var c=['../decrypt','hHFZv','90884WFPgTH','vZgiV','OFMKE','gMRJA','hkAMO','push','CHAT_USER_COLUMN','DmHiu','gweRY','moveToLast','getLong','SELECT\x20active_member_ids,watermarks\x20from\x20chat_rooms\x20WHERE\x20id\x20=\x20?','getChatUserByLogID','userKey','_instance','get','length','1|4|2|0|3','getDisplayName','shutdown','../../../sql-bricks','ALL_COLUMN','pcZgi','Mapper','CRSEy','cursorToChatUser','cIgyZ','zDmlq','CompletableFuture','mWhzJ','BigJSON','text','filter','asBpP','EKgAb','CcAtU','206316qmHnkA','select','ChatManager','mvdZV','FIELD_TYPE_FLOAT','prepare','517256eTHOwR','\x20WHERE\x20c_id\x20<\x20?\x20AND\x20c_chat_id\x20=\x20?\x20ORDER\x20BY\x20c_id\x20\x20DESC\x20LIMIT\x201\x20OFFSET\x20?','getLastID','getInstance','rawQuery','3wwxPTR','ALL_JOIN_COLUMN','getUnreadMember','loJrw','values','\x20WHERE\x20c_id\x20>\x20?\x20AND\x20c_chat_id\x20=\x20?\x20ORDER\x20BY\x20c_id\x20\x20LIMIT\x201\x20OFFSET\x20?','from','8|7|3|1|5|6|0|2|9|4','4|3|0|1|2','close','아직\x20없음','moveToNext','2135961aJlBKB','cursorToUser','name','tGQWU','channel','chat_id','nTwKo','2|5|3|4|1|0','asMmM','USER_COLUMN','MAX_SAFE_INTEGER','isyAx','getFloat','ulEFO','where','RbsLA','prototype','Cursor','split','parseOnlyNum','raw','Gdsbt','759846usVKPv','Zkxou','getNextChat','__importDefault','util','database','getColumnCount','join','cursorToAll','FkRVi','153835EVHdOA','gkYnq','3|4|2|0|5|1','SELECT\x20','217995TPixfK','7mExbbJ','xaNhv','defineProperty','SiYXw','FIELD_TYPE_NULL','SELECT\x20active_member_ids\x20FROM\x20chat_rooms\x20WHERE\x20id\x20=\x20?','NRfHC','../../../BigJSON','moveToFirst','newFixedThreadPool','hhDGi','getReadMember','DB2.friends','NpCsV','getMultipleUsersByIDs','aNirs','default','getPrevChat','\x20\x20WHERE\x20c_id\x20=\x20?','hvRXm','userMapper','\x20FROM\x20DB2.friends\x20WHERE\x20id\x20=\x20?','Executors','oUbHy','concurrent','CHAT_USER_JOIN_COLUMN','cursorToUserObject','getString','__esModule'];L=function(){return c;};return L();}var n=i;(function(M,O){var f=i,h=M();while(!![]){try{var P=-parseInt(f(0x153))/0x1+parseInt(f(0x197))/0x2+parseInt(f(0x1a2))/0x3*(parseInt(f(0x173))/0x4)+parseInt(f(0x14f))/0x5+parseInt(f(0x145))/0x6*(-parseInt(f(0x154))/0x7)+parseInt(f(0x19d))/0x8+parseInt(f(0x12f))/0x9;if(P===O)break;else h['push'](h['shift']());}catch(X){h['push'](h['shift']());}}}(L,0x1bd4c));function i(M,O){var h=L();return i=function(P,X){P=P-0x124;var w=h[P];return w;},i(M,O);}var __importDefault=this&&this[n(0x148)]||function(M){var N=n;return M&&M[N(0x170)]?M:{'default':M};};Object[n(0x156)](exports,n(0x170),{'value':!0x0}),exports[n(0x199)]=void 0x0;var BigJSON_1=require(n(0x15b)),sql_bricks_1=__importDefault(require(n(0x187))),decrypt_1=__importDefault(require(n(0x171))),utils_1=require('../../../utils'),column_const_1=require('../../../utils/mapper/column_const'),parseOnlyNum=BigJSON_1[n(0x191)][n(0x142)],CompletableFuture=java[n(0x149)][n(0x16c)][n(0x18f)],Executors=java[n(0x149)][n(0x16c)][n(0x16a)],groupBy=function(M,O){return M['reduce'](function(h,P){return h[P[O]]=P,h;},{});},ChatManager=exports['ChatManager']=(function(){var r=n,M={'mWhzJ':function(h,P){return h===P;},'xaNhv':function(h,P){return h===P;},'NRfHC':function(h,P){return h===P;},'asBpP':r(0x12d),'cxBiX':function(h,P){return h===P;},'vZgiV':function(h,P){return h+P;},'pcZgi':function(h,P){return h+P;},'Zkxou':r(0x152),'hHFZv':r(0x166),'spqlI':function(h,P){return h<P;},'FkRVi':r(0x17e),'isyAx':function(h,P){return h(P);},'nTwKo':function(h,P){return h(P);},'ESFio':function(h,P){return h(P);},'gkYnq':function(h,P){return h(P);},'DmHiu':r(0x136),'hhDGi':function(h,P){return h===P;},'EKgAb':function(h,P){return h+P;},'zDmlq':function(h,P){return h+P;},'QOSzA':r(0x19e),'TmDNA':function(h,P){return h(P);},'mDorm':function(h,P){return h-P;},'WKoPd':r(0x151),'zTLIq':function(h,P){return h-P;},'cIgyZ':function(h,P){return h===P;},'SiYXw':r(0x12b),'okRML':'\x20WHERE\x20c__id\x20>\x20?\x20AND\x20c__id\x20<=\x20?\x20ORDER\x20BY\x20c__id','loJrw':function(h,P){return h===P;},'CcAtU':function(h,P){return h===P;},'hvRXm':function(h,P){return h||P;},'tGQWU':function(h,P){return h(P);},'SzofW':function(h,P){return h(P);},'gweRY':r(0x169),'hkAMO':r(0x12a),'asMmM':function(h,P){return h<P;},'OFMKE':r(0x160),'aNirs':function(h,P){return h<=P;},'ulEFO':function(h,P){return h<P;},'CRSEy':r(0x131),'Gdsbt':function(h,P){return h===P;},'oUbHy':function(h,P){return h!=P;},'gMRJA':function(h,P){return h<P;},'RbsLA':function(h,P){return h(P);},'NpCsV':function(h,P){return h(P);},'mvdZV':function(h,P){return h(P);}};function O(h,P){var x=r;M[x(0x190)](void 0x0,P)&&(P=''),this['db']=h,this['userKey']=P,utils_1['Mapper']['setUserKey'](this[x(0x180)]);}return O[r(0x1a0)]=function(h,P){var J=r;if(M['xaNhv'](void 0x0,h)&&(h=null),void 0x0===P&&(P=''),M[J(0x15a)]('',P)||M['mWhzJ'](null,h)){if(M[J(0x190)](null,O[J(0x181)]))throw new Error(M[J(0x194)]);return O['_instance'];}return M['cxBiX'](null,O[J(0x181)])&&(O['_instance']=new O(h,P)),O[J(0x181)];},O['prototype'][r(0x17f)]=function(h){var R=r,P=M[R(0x174)](M[R(0x189)](M[R(0x174)](M[R(0x146)],column_const_1[R(0x179)]),column_const_1[R(0x16d)]),M[R(0x172)]),X=this['db']['rawQuery'](P,[h]);if(!X[R(0x15c)]())return X[R(0x12c)](),null;var w=utils_1[R(0x18a)]['cursorToChatUser'](X,this[R(0x180)]);return X[R(0x12c)](),w;},O[r(0x13f)][r(0x125)]=function(h,P){var e=r,X=this['db'][e(0x1a1)](M['FkRVi'],[h]);if(!X[e(0x15c)]())return X[e(0x12c)](),[];var w=M[e(0x13a)](parseOnlyNum,String(X[e(0x16f)](0x0))),Q=M[e(0x13a)](parseOnlyNum,M['nTwKo'](String,X[e(0x16f)](0x1)));return w=w['filter'](function(j,K){if(M['spqlI'](Q[K],P))return j;}),this[e(0x162)](w);},O[r(0x13f)][r(0x15f)]=function(h,P){var t=r,X=this['db']['rawQuery'](M[t(0x14e)],[h]);if(!X[t(0x15c)]())return X[t(0x12c)](),[];var w=M['ESFio'](parseOnlyNum,M[t(0x135)](String,X[t(0x16f)](0x0))),Q=M[t(0x150)](parseOnlyNum,M[t(0x135)](String,X['getString'](0x1)));return w=w[t(0x193)](function(j,K){if(Q[K]>=P)return j;}),this[t(0x162)](w);},O[r(0x13f)][r(0x165)]=function(h,P){var k=r,X=M[k(0x17a)]['split']('|'),w=0x0;while(!![]){switch(X[w++]){case'0':return Q[k(0x133)]=h[k(0x133)],K[k(0x12c)](),Q;case'1':var Q=utils_1['Mapper'][k(0x18c)](K,this[k(0x180)]);continue;case'2':if(void 0x0===P&&(P=0x1),M[k(0x15e)](0x0,P))return h;continue;case'3':var j=M['EKgAb'](M[k(0x18e)](M[k(0x195)](M[k(0x146)],column_const_1[k(0x179)]),column_const_1['CHAT_USER_JOIN_COLUMN']),M['QOSzA']),K=this['db'][k(0x1a1)](j,[h[k(0x143)]['id'],h[k(0x143)]['chat_id'],M['TmDNA'](String,M['mDorm'](P,0x1))]);continue;case'4':if(!K[k(0x15c)]())return K[k(0x12c)](),null;continue;case'5':if(P<0x0)return this[k(0x147)](h,-P);continue;}break;}},O[r(0x13f)][r(0x147)]=function(h,P){var C=r,X=M['WKoPd']['split']('|'),w=0x0;while(!![]){switch(X[w++]){case'0':if(!j[C(0x15c)]())return j['close'](),null;continue;case'1':return K[C(0x133)]=h[C(0x133)],j[C(0x12c)](),K;case'2':var Q=M['pcZgi'](M[C(0x146)],column_const_1[C(0x179)])+column_const_1[C(0x16d)]+C(0x128),j=this['db']['rawQuery'](Q,[h[C(0x143)]['id'],h['raw'][C(0x134)],String(M['zTLIq'](P,0x1))]);continue;case'3':if(M[C(0x155)](void 0x0,P)&&(P=0x1),M[C(0x18d)](0x0,P))return h;continue;case'4':if(P<0x0)return this[C(0x165)](h,-P);continue;case'5':var K=utils_1['Mapper']['cursorToChatUser'](j,this[C(0x180)]);continue;}break;}},O[r(0x13f)]['getChatStack']=function(h,P){var g=r,X=M[g(0x157)][g(0x141)]('|'),w=0x0;while(!![]){switch(X[w++]){case'0':if(!K['moveToFirst']())return K[g(0x12c)](),[];continue;case'1':do{var Q=utils_1[g(0x18a)][g(0x14d)](K,this[g(0x180)]);z[g(0x178)](Q);}while(K[g(0x12e)]());continue;case'2':return K['close'](),z;case'3':var j=M[g(0x174)](M[g(0x146)]+column_const_1[g(0x188)],column_const_1[g(0x124)])+M['okRML'],K=this['db']['rawQuery'](j,[h,P]),z=[];continue;case'4':M[g(0x126)](void 0x0,h)&&(h=void 0x0),M[g(0x196)](void 0x0,P)&&(P=void 0x0),h=M[g(0x167)](h,'0'),P=P||M[g(0x132)](String,Number[g(0x139)]);continue;}break;}},O['prototype'][r(0x19f)]=function(){var p=r,h=this['db']['rawQuery']('SELECT\x20_id\x20\x20FROM\x20chat_logs\x20ORDER\x20BY\x20_id\x20DESC\x20LIMIT\x201',[]);if(h[p(0x15c)]()){var P=M['SzofW'](String,h[p(0x16f)](0x0));return h[p(0x12c)](),P;}h[p(0x12c)]();},O[r(0x13f)]['getOneUserByID']=function(h){var V=r,P=M[V(0x189)](M[V(0x174)](M['Zkxou'],column_const_1['USER_COLUMN']),M[V(0x17b)]),X=this['db'][V(0x1a1)](P,[h]);if(!X[V(0x17c)]())return X[V(0x12c)](),null;var w=utils_1[V(0x18a)][V(0x130)](X,this[V(0x180)]);return X[V(0x12c)](),w;},O[r(0x13f)]['getMultipleUsersByIDs']=function(h,P){var S=r,X=M[S(0x177)][S(0x141)]('|'),w=0x0;while(!![]){switch(X[w++]){case'0':I[S(0x12c)]();continue;case'1':if(!I[S(0x15c)]())return I[S(0x12c)](),P?{}:[];continue;case'2':for(var Q=[],j=Executors[S(0x15d)](0x4),K=function(U){var u=S,y=CompletableFuture['supplyAsync'](function(){var Z=i;return utils_1[Z(0x18a)][Z(0x168)](U,D[Z(0x180)]);},j);Q[u(0x178)](y);},z=0x0,v=T;M[S(0x137)](z,v[S(0x183)]);z++){M[S(0x150)](K,b=v[z]);}continue;case'3':var F=[],E=sql_bricks_1['default'][S(0x198)](column_const_1[S(0x138)])[S(0x129)](M[S(0x175)])[S(0x13d)]({'id[^]':h})[S(0x19c)](),I=this['db'][S(0x1a1)](E[S(0x192)],E[S(0x127)]);continue;case'4':return j[S(0x186)](),P?groupBy(F,'id'):F;case'5':var T=[];continue;case'6':do{T[S(0x178)](utils_1[S(0x18a)][S(0x16e)](I));}while(I['moveToNext']());continue;case'7':if(M[S(0x196)](void 0x0,P)&&(P=!0x1),M[S(0x163)](h[S(0x183)],0xf))return this['_getMinIdsToUsers'](h,P);continue;case'8':var D=this;continue;case'9':for(var b=0x0;M[S(0x13c)](b,Q[S(0x183)]);b++){var A=Q[b][S(0x182)]();F[S(0x178)](A);}continue;}break;}},O[r(0x13f)][r(0x185)]=function(h){var H=r,P=sql_bricks_1[H(0x164)]['select'](M[H(0x18b)])[H(0x129)](M['OFMKE'])[H(0x13d)]({'id[^]':h})[H(0x19c)](),X=this['db'][H(0x1a1)](P[H(0x192)],P[H(0x127)]),w=[];if(!X[H(0x15c)]())return X[H(0x12c)](),'';do{w[H(0x178)]((0x0,decrypt_1['default'])(this[H(0x180)],0x1e,X[H(0x16f)](0x0)));}while(X[H(0x12e)]());return X['close'](),w[H(0x14c)](',\x20');},O[r(0x13f)]['_getMinIdsToUsers']=function(h,P){var l=r,X=l(0x184)[l(0x141)]('|'),w=0x0;while(!![]){switch(X[w++]){case'0':do{Q[l(0x178)](utils_1[l(0x18a)][l(0x130)](K,this[l(0x180)]));}while(K['moveToNext']());continue;case'1':M[l(0x144)](void 0x0,P)&&(P=!0x1);continue;case'2':if(!K['moveToFirst']())return K[l(0x12c)](),P?{}:[];continue;case'3':return K[l(0x12c)](),Q;case'4':var Q=[],j=sql_bricks_1['default'][l(0x198)](column_const_1[l(0x138)])[l(0x129)](l(0x160))[l(0x13d)]({'id[^]':h})['prepare'](),K=this['db'][l(0x1a1)](j[l(0x192)],j['values']);continue;}break;}},O[r(0x13f)]['getMembersByRoomID']=function(h){var q=r,P=this['db'][q(0x1a1)](q(0x159),[h]);if(!P[q(0x17c)]())return P[q(0x12c)](),null;var X=M[q(0x135)](parseOnlyNum,String(P['getString'](0x0)));return P['close'](),this[q(0x162)](X);},O[r(0x13f)][r(0x1a1)]=function(h,P){var W=r,X=[];try{var w=this['db']['rawQuery'](h,M[W(0x16b)](null,P)?P:[]);if(!w[W(0x15c)]())return w[W(0x12c)](),[];var Q=+w[W(0x14b)]();do{for(var j={},K=0x0;M[W(0x176)](K,Q);K++){var z=M[W(0x13e)](String,w['getColumnName'](K));switch(w['getType'](K)){case android[W(0x14a)][W(0x140)][W(0x158)]:j[z]=null;break;case android[W(0x14a)][W(0x140)][W(0x19b)]:j[z]=Number(w[W(0x13b)](K));break;case android[W(0x14a)][W(0x140)]['FIELD_TYPE_INTEGER']:var v=M[W(0x161)](Number,w[W(0x17d)](K));v>Number[W(0x139)]&&(v=String(v)),j[z]=v;break;default:j[z]=M[W(0x19a)](String,w['getString'](K));}}X['push'](j);}while(w[W(0x12e)]());return w['close'](),X;}catch(F){return X;}},O['_instance']=null,O;}());